"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/flights/search/route";
exports.ids = ["app/api/flights/search/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fflights%2Fsearch%2Froute&page=%2Fapi%2Fflights%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fflights%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fflights%2Fsearch%2Froute&page=%2Fapi%2Fflights%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fflights%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_HomePC_Documents_itravelshub_triprex_files_LRT_Version_src_app_api_flights_search_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/flights/search/route.js */ \"(rsc)/./src/app/api/flights/search/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/flights/search/route\",\n        pathname: \"/api/flights/search\",\n        filename: \"route\",\n        bundlePath: \"app/api/flights/search/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\HomePC\\\\Documents\\\\itravelshub\\\\triprex-files\\\\LRT-Version\\\\src\\\\app\\\\api\\\\flights\\\\search\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_HomePC_Documents_itravelshub_triprex_files_LRT_Version_src_app_api_flights_search_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/flights/search/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZmbGlnaHRzJTJGc2VhcmNoJTJGcm91dGUmcGFnZT0lMkZhcGklMkZmbGlnaHRzJTJGc2VhcmNoJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZmxpZ2h0cyUyRnNlYXJjaCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNIb21lUEMlNUNEb2N1bWVudHMlNUNpdHJhdmVsc2h1YiU1Q3RyaXByZXgtZmlsZXMlNUNMUlQtVmVyc2lvbiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDSG9tZVBDJTVDRG9jdW1lbnRzJTVDaXRyYXZlbHNodWIlNUN0cmlwcmV4LWZpbGVzJTVDTFJULVZlcnNpb24maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDK0Q7QUFDNUk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwcmV4LW5leHRqcy8/MjVhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxIb21lUENcXFxcRG9jdW1lbnRzXFxcXGl0cmF2ZWxzaHViXFxcXHRyaXByZXgtZmlsZXNcXFxcTFJULVZlcnNpb25cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZmxpZ2h0c1xcXFxzZWFyY2hcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZsaWdodHMvc2VhcmNoL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZmxpZ2h0cy9zZWFyY2hcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2ZsaWdodHMvc2VhcmNoL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcSG9tZVBDXFxcXERvY3VtZW50c1xcXFxpdHJhdmVsc2h1YlxcXFx0cmlwcmV4LWZpbGVzXFxcXExSVC1WZXJzaW9uXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGZsaWdodHNcXFxcc2VhcmNoXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2ZsaWdodHMvc2VhcmNoL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fflights%2Fsearch%2Froute&page=%2Fapi%2Fflights%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fflights%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/flights/search/route.js":
/*!*********************************************!*\
  !*** ./src/app/api/flights/search/route.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_amadeus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/amadeus */ \"(rsc)/./src/lib/amadeus.js\");\n/* harmony import */ var _lib_duffel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/duffel */ \"(rsc)/./src/lib/duffel.js\");\n\n\n\nasync function POST(request) {\n    let origin, destination, date, returnDate, adults, children;\n    try {\n        const body = await request.json();\n        ({ origin, destination, date, returnDate, adults = \"1\", children = \"0\" } = body);\n        console.log(\"\\uD83D\\uDD0D API: Search Flights Request\", {\n            origin,\n            destination,\n            date,\n            returnDate,\n            adults,\n            children\n        });\n        // 1. Try Amadeus API first\n        try {\n            console.log(\"\\uD83D\\uDCE1 Attempting Amadeus API...\");\n            const flights = await (0,_lib_amadeus__WEBPACK_IMPORTED_MODULE_1__.searchFlights)(origin, destination, date, returnDate, adults, children);\n            if (flights.length > 0) {\n                console.log(\"âœ… Amadeus returned results\");\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(flights);\n            }\n            console.log(\"âš ï¸ Amadeus returned 0 flights. Trying fallback...\");\n        } catch (amadeusError) {\n            console.error(\"âš ï¸ Amadeus API Failed:\", amadeusError.message);\n            console.log(\"\\uD83D\\uDD04 Switching to Duffel API Fallback...\");\n        }\n        // 2. Fallback to Duffel API (Real Data)\n        try {\n            console.log(\"\\uD83E\\uDD85 Running Duffel API Search...\");\n            const duffelFlights = await (0,_lib_duffel__WEBPACK_IMPORTED_MODULE_2__.searchFlights)(origin, destination, date, returnDate, adults, children);\n            if (duffelFlights.length > 0) {\n                console.log(\"âœ… Duffel returned results:\", duffelFlights.length);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(duffelFlights);\n            }\n            console.log(\"âš ï¸ Duffel returned 0 flights.\");\n        } catch (duffelError) {\n            console.error(\"âš ï¸ Duffel API Failed:\", duffelError.message);\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"No flights found on any provider\"\n        }, {\n            status: 404\n        });\n    } catch (error) {\n        console.error(\"âŒ Flight Search Critical Error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal Server Error\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9mbGlnaHRzL3NlYXJjaC9yb3V0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ29CO0FBQ0Y7QUFFdEQsZUFBZUksS0FBS0MsT0FBTztJQUM5QixJQUFJQyxRQUFRQyxhQUFhQyxNQUFNQyxZQUFZQyxRQUFRQztJQUVuRCxJQUFJO1FBQ0EsTUFBTUMsT0FBTyxNQUFNUCxRQUFRUSxJQUFJO1FBQzlCLEdBQUVQLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxJQUFJLEVBQUVDLFVBQVUsRUFBRUMsU0FBUyxHQUFHLEVBQUVDLFdBQVcsR0FBRyxFQUFFLEdBQUdDLElBQUc7UUFFOUVFLFFBQVFDLEdBQUcsQ0FBQyw0Q0FBa0M7WUFBRVQ7WUFBUUM7WUFBYUM7WUFBTUM7WUFBWUM7WUFBUUM7UUFBUztRQUV4RywyQkFBMkI7UUFDM0IsSUFBSTtZQUNBRyxRQUFRQyxHQUFHLENBQUM7WUFDWixNQUFNQyxVQUFVLE1BQU1kLDJEQUFhQSxDQUFDSSxRQUFRQyxhQUFhQyxNQUFNQyxZQUFZQyxRQUFRQztZQUVuRixJQUFJSyxRQUFRQyxNQUFNLEdBQUcsR0FBRztnQkFDcEJILFFBQVFDLEdBQUcsQ0FBQztnQkFDWixPQUFPZixrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDRztZQUM3QjtZQUNBRixRQUFRQyxHQUFHLENBQUM7UUFDaEIsRUFBRSxPQUFPRyxjQUFjO1lBQ25CSixRQUFRSyxLQUFLLENBQUMsMEJBQTBCRCxhQUFhRSxPQUFPO1lBQzVETixRQUFRQyxHQUFHLENBQUM7UUFDaEI7UUFFQSx3Q0FBd0M7UUFDeEMsSUFBSTtZQUNBRCxRQUFRQyxHQUFHLENBQUM7WUFDWixNQUFNTSxnQkFBZ0IsTUFBTWxCLDBEQUFZQSxDQUFDRyxRQUFRQyxhQUFhQyxNQUFNQyxZQUFZQyxRQUFRQztZQUV4RixJQUFJVSxjQUFjSixNQUFNLEdBQUcsR0FBRztnQkFDMUJILFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEJNLGNBQWNKLE1BQU07Z0JBQzlELE9BQU9qQixrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDUTtZQUM3QjtZQUNBUCxRQUFRQyxHQUFHLENBQUM7UUFDaEIsRUFBRSxPQUFPTyxhQUFhO1lBQ2xCUixRQUFRSyxLQUFLLENBQUMseUJBQXlCRyxZQUFZRixPQUFPO1FBQzlEO1FBRUEsT0FBT3BCLGtGQUFZQSxDQUFDYSxJQUFJLENBQ3BCO1lBQUVNLE9BQU87UUFBbUMsR0FDNUM7WUFBRUksUUFBUTtRQUFJO0lBR3RCLEVBQUUsT0FBT0osT0FBTztRQUNaTCxRQUFRSyxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPbkIsa0ZBQVlBLENBQUNhLElBQUksQ0FDcEI7WUFBRU0sT0FBTztZQUF5QkssU0FBU0wsTUFBTUMsT0FBTztRQUFDLEdBQ3pEO1lBQUVHLFFBQVE7UUFBSTtJQUV0QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHJpcHJleC1uZXh0anMvLi9zcmMvYXBwL2FwaS9mbGlnaHRzL3NlYXJjaC9yb3V0ZS5qcz84NWI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgc2VhcmNoRmxpZ2h0cyBhcyBzZWFyY2hBbWFkZXVzIH0gZnJvbSAnQC9saWIvYW1hZGV1cyc7XHJcbmltcG9ydCB7IHNlYXJjaEZsaWdodHMgYXMgc2VhcmNoRHVmZmVsIH0gZnJvbSAnQC9saWIvZHVmZmVsJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcclxuICAgIGxldCBvcmlnaW4sIGRlc3RpbmF0aW9uLCBkYXRlLCByZXR1cm5EYXRlLCBhZHVsdHMsIGNoaWxkcmVuO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgICAgICh7IG9yaWdpbiwgZGVzdGluYXRpb24sIGRhdGUsIHJldHVybkRhdGUsIGFkdWx0cyA9ICcxJywgY2hpbGRyZW4gPSAnMCcgfSA9IGJvZHkpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gQVBJOiBTZWFyY2ggRmxpZ2h0cyBSZXF1ZXN0XCIsIHsgb3JpZ2luLCBkZXN0aW5hdGlvbiwgZGF0ZSwgcmV0dXJuRGF0ZSwgYWR1bHRzLCBjaGlsZHJlbiB9KTtcclxuXHJcbiAgICAgICAgLy8gMS4gVHJ5IEFtYWRldXMgQVBJIGZpcnN0XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5OhIEF0dGVtcHRpbmcgQW1hZGV1cyBBUEkuLi5cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGZsaWdodHMgPSBhd2FpdCBzZWFyY2hBbWFkZXVzKG9yaWdpbiwgZGVzdGluYXRpb24sIGRhdGUsIHJldHVybkRhdGUsIGFkdWx0cywgY2hpbGRyZW4pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZsaWdodHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLinIUgQW1hZGV1cyByZXR1cm5lZCByZXN1bHRzXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGZsaWdodHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pqg77iPIEFtYWRldXMgcmV0dXJuZWQgMCBmbGlnaHRzLiBUcnlpbmcgZmFsbGJhY2suLi5cIik7XHJcbiAgICAgICAgfSBjYXRjaCAoYW1hZGV1c0Vycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KaoO+4jyBBbWFkZXVzIEFQSSBGYWlsZWQ6JywgYW1hZGV1c0Vycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflIQgU3dpdGNoaW5nIHRvIER1ZmZlbCBBUEkgRmFsbGJhY2suLi5cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAyLiBGYWxsYmFjayB0byBEdWZmZWwgQVBJIChSZWFsIERhdGEpXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn6aFIFJ1bm5pbmcgRHVmZmVsIEFQSSBTZWFyY2guLi5cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGR1ZmZlbEZsaWdodHMgPSBhd2FpdCBzZWFyY2hEdWZmZWwob3JpZ2luLCBkZXN0aW5hdGlvbiwgZGF0ZSwgcmV0dXJuRGF0ZSwgYWR1bHRzLCBjaGlsZHJlbik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZHVmZmVsRmxpZ2h0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBEdWZmZWwgcmV0dXJuZWQgcmVzdWx0czpcIiwgZHVmZmVsRmxpZ2h0cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGR1ZmZlbEZsaWdodHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pqg77iPIER1ZmZlbCByZXR1cm5lZCAwIGZsaWdodHMuXCIpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGR1ZmZlbEVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KaoO+4jyBEdWZmZWwgQVBJIEZhaWxlZDonLCBkdWZmZWxFcnJvci5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ05vIGZsaWdodHMgZm91bmQgb24gYW55IHByb3ZpZGVyJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDA0IH1cclxuICAgICAgICApO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZsaWdodCBTZWFyY2ggQ3JpdGljYWwgRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInNlYXJjaEZsaWdodHMiLCJzZWFyY2hBbWFkZXVzIiwic2VhcmNoRHVmZmVsIiwiUE9TVCIsInJlcXVlc3QiLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsImRhdGUiLCJyZXR1cm5EYXRlIiwiYWR1bHRzIiwiY2hpbGRyZW4iLCJib2R5IiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJmbGlnaHRzIiwibGVuZ3RoIiwiYW1hZGV1c0Vycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwiZHVmZmVsRmxpZ2h0cyIsImR1ZmZlbEVycm9yIiwic3RhdHVzIiwiZGV0YWlscyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/flights/search/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/amadeus.js":
/*!****************************!*\
  !*** ./src/lib/amadeus.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkConnection: () => (/* binding */ checkConnection),\n/* harmony export */   searchFlights: () => (/* binding */ searchFlights)\n/* harmony export */ });\n/* harmony import */ var amadeus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! amadeus */ \"(rsc)/./node_modules/amadeus/lib/amadeus.js\");\n/* harmony import */ var amadeus__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(amadeus__WEBPACK_IMPORTED_MODULE_0__);\n\nlet amadeus;\n// Lazy initialize Amadeus SDK\nfunction getAmadeusClient() {\n    if (amadeus) {\n        return amadeus;\n    }\n    const clientId = \"oeGAHxIpwTIZTQaZv7nj0y1JpQB4i1xw\";\n    const clientSecret = \"xoDpCaat5LxpyyQ8\";\n    if (!clientId || !clientSecret) {\n        // Only log this warning once per server restart usually, but since this is inside a function \n        // that creates the singleton, it's fine.\n        console.warn(\"âš ï¸ [getAmadeusClient] Amadeus credentials not found in environment.\");\n        console.warn(\"   Make sure AMADEUS_CLIENT_ID and AMADEUS_CLIENT_SECRET are set in .env.local\");\n        return null;\n    }\n    try {\n        amadeus = new (amadeus__WEBPACK_IMPORTED_MODULE_0___default())({\n            clientId: clientId,\n            clientSecret: clientSecret\n        });\n        // process.env.NODE_ENV !== 'production' && console.log(\"âœ… [getAmadeusClient] Amadeus SDK initialized successfully\");\n        return amadeus;\n    } catch (e) {\n        console.error(\"âŒ [getAmadeusClient] Failed to initialize Amadeus SDK:\", e.message);\n        return null;\n    }\n}\nasync function searchFlights(origin, destination, date, returnDate, adults = \"1\", children = \"0\") {\n    console.log(`ğŸ” [searchFlights] Called with: ${origin} â†’ ${destination} on ${date} (Return: ${returnDate || \"None\"}) for ${adults} adults, ${children} children`);\n    const amadeusClient = getAmadeusClient();\n    console.log(`ğŸ” [searchFlights] Amadeus SDK initialized:`, !!amadeusClient);\n    if (!amadeusClient) {\n        console.error(\"âŒ [searchFlights] Amadeus client not available. Cannot search.\");\n        return [];\n    }\n    try {\n        console.log(\"\\uD83D\\uDCE1 [searchFlights] Making Amadeus API call...\");\n        // Construct parameters object, filtering out undefined/null values\n        const params = {\n            originLocationCode: origin,\n            destinationLocationCode: destination,\n            departureDate: date,\n            adults: adults.toString(),\n            max: \"10\"\n        };\n        if (returnDate) {\n            params.returnDate = returnDate;\n        }\n        // Add children if greater than 0\n        if (parseInt(children) > 0) {\n            params.children = children.toString();\n        }\n        let response;\n        if (amadeusClient.shopping && amadeusClient.shopping.flightOffersSearch) {\n            console.log(\"\\uD83D\\uDCE1 [searchFlights] Using shopping.flightOffersSearch.get() with params:\", params);\n            response = await amadeusClient.shopping.flightOffersSearch.get(params);\n        } else {\n            console.log(\"\\uD83D\\uDCE1 [searchFlights] Trying direct client.get() method with params:\", params);\n            response = await amadeusClient.client.get(\"/v2/shopping/flight-offers\", params);\n        }\n        console.log(\"âœ… [searchFlights] Amadeus API responded successfully\");\n        console.log(\"   Response data count:\", response.data?.length || 0);\n        if (!response.data || response.data.length === 0) {\n            console.log(\"âš ï¸ [searchFlights] No flights found from Amadeus.\");\n            return [];\n        }\n        const mappedFlights = response.data.map((offer)=>{\n            const itinerary = offer.itineraries[0];\n            const segment = itinerary.segments[0];\n            const lastSegment = itinerary.segments[itinerary.segments.length - 1];\n            const carrierCode = segment.carrierCode;\n            // Handle dictionary lookup safely\n            const carrierName = response.dictionaries && response.dictionaries.carriers && response.dictionaries.carriers[carrierCode] ? response.dictionaries.carriers[carrierCode] : carrierCode;\n            const price = `${offer.price.currency} ${offer.price.total}`;\n            // Format Times\n            const dep = new Date(segment.departure.at);\n            const arr = new Date(lastSegment.arrival.at);\n            const depTime = dep.toLocaleTimeString(\"en-US\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n                hour12: false\n            });\n            const arrTime = arr.toLocaleTimeString(\"en-US\", {\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n                hour12: false\n            });\n            // Format Duration\n            const duration = itinerary.duration.replace(\"PT\", \"\").toLowerCase();\n            // Calculate stops\n            const stopsCount = itinerary.segments.length - 1;\n            const stopsText = stopsCount === 0 ? \"Direct\" : `${stopsCount} stop${stopsCount > 1 ? \"s\" : \"\"}`;\n            // Generate Skyscanner Link\n            const cleanDate = date ? date.substring(2).replace(/-/g, \"\") : \"\";\n            const cleanReturnDate = returnDate ? returnDate.substring(2).replace(/-/g, \"\") : \"\";\n            const bookingLink = `https://www.skyscanner.com/transport/flights/${origin}/${destination}/${cleanDate}${cleanReturnDate ? \"/\" + cleanReturnDate : \"\"}`;\n            return {\n                id: offer.id,\n                airline: carrierName,\n                price: price,\n                departure: depTime,\n                arrival: arrTime,\n                duration: duration,\n                stops: stopsText,\n                bookingLink: bookingLink,\n                origin: segment.departure.iataCode,\n                destination: lastSegment.arrival.iataCode\n            };\n        });\n        console.log(\"âœ… [searchFlights] Returning\", mappedFlights.length, \"REAL flights from Amadeus\");\n        return mappedFlights;\n    } catch (error) {\n        console.error(\"âŒ [searchFlights] Amadeus API Error:\", error.response?.statusCode || error.code);\n        console.error(\"   Error details:\", error.response?.body || error.message);\n        // Rethrow the error so the route handler can return specific error to client\n        throw error;\n    }\n}\nasync function checkConnection() {\n    const amadeusClient = getAmadeusClient();\n    if (!amadeusClient) return {\n        success: false,\n        error: \"Client not initialized\"\n    };\n    try {\n        console.log(\"\\uD83D\\uDCE1 [checkConnection] Testing Amadeus with Location Search (LON)...\");\n        const response = await amadeusClient.referenceData.locations.get({\n            keyword: \"LON\",\n            subType: \"CITY\"\n        });\n        console.log(\"âœ… [checkConnection] Success!\");\n        return {\n            success: true,\n            data: response.data\n        };\n    } catch (error) {\n        console.error(\"âŒ [checkConnection] Failed:\", error.code || error.response?.statusCode);\n        return {\n            success: false,\n            error: error\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1pILFFBQVFHLEtBQUssQ0FBQywrQkFBK0JBLE1BQU1rRSxJQUFJLElBQUlsRSxNQUFNa0IsUUFBUSxFQUFFK0M7UUFDM0UsT0FBTztZQUFFSSxTQUFTO1lBQU9yRSxPQUFPQTtRQUFNO0lBQzFDO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwcmV4LW5leHRqcy8uL3NyYy9saWIvYW1hZGV1cy5qcz9kMzM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBbWFkZXVzIGZyb20gJ2FtYWRldXMnO1xyXG5cclxubGV0IGFtYWRldXM7XHJcblxyXG4vLyBMYXp5IGluaXRpYWxpemUgQW1hZGV1cyBTREtcclxuZnVuY3Rpb24gZ2V0QW1hZGV1c0NsaWVudCgpIHtcclxuICAgIGlmIChhbWFkZXVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGFtYWRldXM7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2xpZW50SWQgPSBwcm9jZXNzLmVudi5BTUFERVVTX0NMSUVOVF9JRDtcclxuICAgIGNvbnN0IGNsaWVudFNlY3JldCA9IHByb2Nlc3MuZW52LkFNQURFVVNfQ0xJRU5UX1NFQ1JFVDtcclxuXHJcbiAgICBpZiAoIWNsaWVudElkIHx8ICFjbGllbnRTZWNyZXQpIHtcclxuICAgICAgICAvLyBPbmx5IGxvZyB0aGlzIHdhcm5pbmcgb25jZSBwZXIgc2VydmVyIHJlc3RhcnQgdXN1YWxseSwgYnV0IHNpbmNlIHRoaXMgaXMgaW5zaWRlIGEgZnVuY3Rpb24gXHJcbiAgICAgICAgLy8gdGhhdCBjcmVhdGVzIHRoZSBzaW5nbGV0b24sIGl0J3MgZmluZS5cclxuICAgICAgICBjb25zb2xlLndhcm4oXCLimqDvuI8gW2dldEFtYWRldXNDbGllbnRdIEFtYWRldXMgY3JlZGVudGlhbHMgbm90IGZvdW5kIGluIGVudmlyb25tZW50LlwiKTtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCIgICBNYWtlIHN1cmUgQU1BREVVU19DTElFTlRfSUQgYW5kIEFNQURFVVNfQ0xJRU5UX1NFQ1JFVCBhcmUgc2V0IGluIC5lbnYubG9jYWxcIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBhbWFkZXVzID0gbmV3IEFtYWRldXMoe1xyXG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50SWQsXHJcbiAgICAgICAgICAgIGNsaWVudFNlY3JldDogY2xpZW50U2VjcmV0XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25zb2xlLmxvZyhcIuKchSBbZ2V0QW1hZGV1c0NsaWVudF0gQW1hZGV1cyBTREsgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgIHJldHVybiBhbWFkZXVzO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgW2dldEFtYWRldXNDbGllbnRdIEZhaWxlZCB0byBpbml0aWFsaXplIEFtYWRldXMgU0RLOlwiLCBlLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaEZsaWdodHMob3JpZ2luLCBkZXN0aW5hdGlvbiwgZGF0ZSwgcmV0dXJuRGF0ZSwgYWR1bHRzID0gJzEnLCBjaGlsZHJlbiA9ICcwJykge1xyXG4gICAgY29uc29sZS5sb2coYPCflI0gW3NlYXJjaEZsaWdodHNdIENhbGxlZCB3aXRoOiAke29yaWdpbn0g4oaSICR7ZGVzdGluYXRpb259IG9uICR7ZGF0ZX0gKFJldHVybjogJHtyZXR1cm5EYXRlIHx8ICdOb25lJ30pIGZvciAke2FkdWx0c30gYWR1bHRzLCAke2NoaWxkcmVufSBjaGlsZHJlbmApO1xyXG5cclxuICAgIGNvbnN0IGFtYWRldXNDbGllbnQgPSBnZXRBbWFkZXVzQ2xpZW50KCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coYPCflI0gW3NlYXJjaEZsaWdodHNdIEFtYWRldXMgU0RLIGluaXRpYWxpemVkOmAsICEhYW1hZGV1c0NsaWVudCk7XHJcblxyXG4gICAgaWYgKCFhbWFkZXVzQ2xpZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBbc2VhcmNoRmxpZ2h0c10gQW1hZGV1cyBjbGllbnQgbm90IGF2YWlsYWJsZS4gQ2Fubm90IHNlYXJjaC5cIik7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5OhIFtzZWFyY2hGbGlnaHRzXSBNYWtpbmcgQW1hZGV1cyBBUEkgY2FsbC4uLlwiKTtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0IHBhcmFtZXRlcnMgb2JqZWN0LCBmaWx0ZXJpbmcgb3V0IHVuZGVmaW5lZC9udWxsIHZhbHVlc1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcclxuICAgICAgICAgICAgb3JpZ2luTG9jYXRpb25Db2RlOiBvcmlnaW4sXHJcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uTG9jYXRpb25Db2RlOiBkZXN0aW5hdGlvbixcclxuICAgICAgICAgICAgZGVwYXJ0dXJlRGF0ZTogZGF0ZSxcclxuICAgICAgICAgICAgYWR1bHRzOiBhZHVsdHMudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgbWF4OiAnMTAnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHJldHVybkRhdGUpIHtcclxuICAgICAgICAgICAgcGFyYW1zLnJldHVybkRhdGUgPSByZXR1cm5EYXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWRkIGNoaWxkcmVuIGlmIGdyZWF0ZXIgdGhhbiAwXHJcbiAgICAgICAgaWYgKHBhcnNlSW50KGNoaWxkcmVuKSA+IDApIHtcclxuICAgICAgICAgICAgcGFyYW1zLmNoaWxkcmVuID0gY2hpbGRyZW4udG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCByZXNwb25zZTtcclxuXHJcbiAgICAgICAgaWYgKGFtYWRldXNDbGllbnQuc2hvcHBpbmcgJiYgYW1hZGV1c0NsaWVudC5zaG9wcGluZy5mbGlnaHRPZmZlcnNTZWFyY2gpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5OhIFtzZWFyY2hGbGlnaHRzXSBVc2luZyBzaG9wcGluZy5mbGlnaHRPZmZlcnNTZWFyY2guZ2V0KCkgd2l0aCBwYXJhbXM6XCIsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgYW1hZGV1c0NsaWVudC5zaG9wcGluZy5mbGlnaHRPZmZlcnNTZWFyY2guZ2V0KHBhcmFtcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5OhIFtzZWFyY2hGbGlnaHRzXSBUcnlpbmcgZGlyZWN0IGNsaWVudC5nZXQoKSBtZXRob2Qgd2l0aCBwYXJhbXM6XCIsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgYW1hZGV1c0NsaWVudC5jbGllbnQuZ2V0KCcvdjIvc2hvcHBpbmcvZmxpZ2h0LW9mZmVycycsIHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIuKchSBbc2VhcmNoRmxpZ2h0c10gQW1hZGV1cyBBUEkgcmVzcG9uZGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIiAgIFJlc3BvbnNlIGRhdGEgY291bnQ6XCIsIHJlc3BvbnNlLmRhdGE/Lmxlbmd0aCB8fCAwKTtcclxuXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhIHx8IHJlc3BvbnNlLmRhdGEubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi4pqg77iPIFtzZWFyY2hGbGlnaHRzXSBObyBmbGlnaHRzIGZvdW5kIGZyb20gQW1hZGV1cy5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1hcHBlZEZsaWdodHMgPSByZXNwb25zZS5kYXRhLm1hcChvZmZlciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0aW5lcmFyeSA9IG9mZmVyLml0aW5lcmFyaWVzWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBzZWdtZW50ID0gaXRpbmVyYXJ5LnNlZ21lbnRzWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0U2VnbWVudCA9IGl0aW5lcmFyeS5zZWdtZW50c1tpdGluZXJhcnkuc2VnbWVudHMubGVuZ3RoIC0gMV07XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjYXJyaWVyQ29kZSA9IHNlZ21lbnQuY2FycmllckNvZGU7XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBkaWN0aW9uYXJ5IGxvb2t1cCBzYWZlbHlcclxuICAgICAgICAgICAgY29uc3QgY2Fycmllck5hbWUgPSAocmVzcG9uc2UuZGljdGlvbmFyaWVzICYmXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZS5kaWN0aW9uYXJpZXMuY2FycmllcnMgJiZcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRpY3Rpb25hcmllcy5jYXJyaWVyc1tjYXJyaWVyQ29kZV0pXHJcbiAgICAgICAgICAgICAgICA/IHJlc3BvbnNlLmRpY3Rpb25hcmllcy5jYXJyaWVyc1tjYXJyaWVyQ29kZV1cclxuICAgICAgICAgICAgICAgIDogY2FycmllckNvZGU7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcmljZSA9IGAke29mZmVyLnByaWNlLmN1cnJlbmN5fSAke29mZmVyLnByaWNlLnRvdGFsfWA7XHJcblxyXG4gICAgICAgICAgICAvLyBGb3JtYXQgVGltZXNcclxuICAgICAgICAgICAgY29uc3QgZGVwID0gbmV3IERhdGUoc2VnbWVudC5kZXBhcnR1cmUuYXQpO1xyXG4gICAgICAgICAgICBjb25zdCBhcnIgPSBuZXcgRGF0ZShsYXN0U2VnbWVudC5hcnJpdmFsLmF0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRlcFRpbWUgPSBkZXAudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JywgaG91cjEyOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgY29uc3QgYXJyVGltZSA9IGFyci50b0xvY2FsZVRpbWVTdHJpbmcoJ2VuLVVTJywgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnLCBob3VyMTI6IGZhbHNlIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gRm9ybWF0IER1cmF0aW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gaXRpbmVyYXJ5LmR1cmF0aW9uLnJlcGxhY2UoJ1BUJywgJycpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgc3RvcHNcclxuICAgICAgICAgICAgY29uc3Qgc3RvcHNDb3VudCA9IGl0aW5lcmFyeS5zZWdtZW50cy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICBjb25zdCBzdG9wc1RleHQgPSBzdG9wc0NvdW50ID09PSAwID8gJ0RpcmVjdCcgOiBgJHtzdG9wc0NvdW50fSBzdG9wJHtzdG9wc0NvdW50ID4gMSA/ICdzJyA6ICcnfWA7XHJcblxyXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBTa3lzY2FubmVyIExpbmtcclxuICAgICAgICAgICAgY29uc3QgY2xlYW5EYXRlID0gZGF0ZSA/IGRhdGUuc3Vic3RyaW5nKDIpLnJlcGxhY2UoLy0vZywgJycpIDogJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuUmV0dXJuRGF0ZSA9IHJldHVybkRhdGUgPyByZXR1cm5EYXRlLnN1YnN0cmluZygyKS5yZXBsYWNlKC8tL2csICcnKSA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBib29raW5nTGluayA9IGBodHRwczovL3d3dy5za3lzY2FubmVyLmNvbS90cmFuc3BvcnQvZmxpZ2h0cy8ke29yaWdpbn0vJHtkZXN0aW5hdGlvbn0vJHtjbGVhbkRhdGV9JHtjbGVhblJldHVybkRhdGUgPyAnLycgKyBjbGVhblJldHVybkRhdGUgOiAnJ31gO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlkOiBvZmZlci5pZCxcclxuICAgICAgICAgICAgICAgIGFpcmxpbmU6IGNhcnJpZXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlLFxyXG4gICAgICAgICAgICAgICAgZGVwYXJ0dXJlOiBkZXBUaW1lLFxyXG4gICAgICAgICAgICAgICAgYXJyaXZhbDogYXJyVGltZSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgICAgICAgICAgICAgIHN0b3BzOiBzdG9wc1RleHQsXHJcbiAgICAgICAgICAgICAgICBib29raW5nTGluazogYm9va2luZ0xpbmssXHJcbiAgICAgICAgICAgICAgICBvcmlnaW46IHNlZ21lbnQuZGVwYXJ0dXJlLmlhdGFDb2RlLFxyXG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb246IGxhc3RTZWdtZW50LmFycml2YWwuaWF0YUNvZGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCLinIUgW3NlYXJjaEZsaWdodHNdIFJldHVybmluZ1wiLCBtYXBwZWRGbGlnaHRzLmxlbmd0aCwgXCJSRUFMIGZsaWdodHMgZnJvbSBBbWFkZXVzXCIpO1xyXG4gICAgICAgIHJldHVybiBtYXBwZWRGbGlnaHRzO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBbc2VhcmNoRmxpZ2h0c10gQW1hZGV1cyBBUEkgRXJyb3I6XCIsIGVycm9yLnJlc3BvbnNlPy5zdGF0dXNDb2RlIHx8IGVycm9yLmNvZGUpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCIgICBFcnJvciBkZXRhaWxzOlwiLCBlcnJvci5yZXNwb25zZT8uYm9keSB8fCBlcnJvci5tZXNzYWdlKTtcclxuXHJcbiAgICAgICAgLy8gUmV0aHJvdyB0aGUgZXJyb3Igc28gdGhlIHJvdXRlIGhhbmRsZXIgY2FuIHJldHVybiBzcGVjaWZpYyBlcnJvciB0byBjbGllbnRcclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIGNvbnN0IGFtYWRldXNDbGllbnQgPSBnZXRBbWFkZXVzQ2xpZW50KCk7XHJcbiAgICBpZiAoIWFtYWRldXNDbGllbnQpIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0NsaWVudCBub3QgaW5pdGlhbGl6ZWQnIH07XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIvCfk6EgW2NoZWNrQ29ubmVjdGlvbl0gVGVzdGluZyBBbWFkZXVzIHdpdGggTG9jYXRpb24gU2VhcmNoIChMT04pLi4uXCIpO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYW1hZGV1c0NsaWVudC5yZWZlcmVuY2VEYXRhLmxvY2F0aW9ucy5nZXQoe1xyXG4gICAgICAgICAgICBrZXl3b3JkOiAnTE9OJyxcclxuICAgICAgICAgICAgc3ViVHlwZTogJ0NJVFknXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLinIUgW2NoZWNrQ29ubmVjdGlvbl0gU3VjY2VzcyFcIik7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzcG9uc2UuZGF0YSB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIFtjaGVja0Nvbm5lY3Rpb25dIEZhaWxlZDpcIiwgZXJyb3IuY29kZSB8fCBlcnJvci5yZXNwb25zZT8uc3RhdHVzQ29kZSk7XHJcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciB9O1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJBbWFkZXVzIiwiYW1hZGV1cyIsImdldEFtYWRldXNDbGllbnQiLCJjbGllbnRJZCIsInByb2Nlc3MiLCJlbnYiLCJBTUFERVVTX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkFNQURFVVNfQ0xJRU5UX1NFQ1JFVCIsImNvbnNvbGUiLCJ3YXJuIiwiZSIsImVycm9yIiwibWVzc2FnZSIsInNlYXJjaEZsaWdodHMiLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsImRhdGUiLCJyZXR1cm5EYXRlIiwiYWR1bHRzIiwiY2hpbGRyZW4iLCJsb2ciLCJhbWFkZXVzQ2xpZW50IiwicGFyYW1zIiwib3JpZ2luTG9jYXRpb25Db2RlIiwiZGVzdGluYXRpb25Mb2NhdGlvbkNvZGUiLCJkZXBhcnR1cmVEYXRlIiwidG9TdHJpbmciLCJtYXgiLCJwYXJzZUludCIsInJlc3BvbnNlIiwic2hvcHBpbmciLCJmbGlnaHRPZmZlcnNTZWFyY2giLCJnZXQiLCJjbGllbnQiLCJkYXRhIiwibGVuZ3RoIiwibWFwcGVkRmxpZ2h0cyIsIm1hcCIsIm9mZmVyIiwiaXRpbmVyYXJ5IiwiaXRpbmVyYXJpZXMiLCJzZWdtZW50Iiwic2VnbWVudHMiLCJsYXN0U2VnbWVudCIsImNhcnJpZXJDb2RlIiwiY2Fycmllck5hbWUiLCJkaWN0aW9uYXJpZXMiLCJjYXJyaWVycyIsInByaWNlIiwiY3VycmVuY3kiLCJ0b3RhbCIsImRlcCIsIkRhdGUiLCJkZXBhcnR1cmUiLCJhdCIsImFyciIsImFycml2YWwiLCJkZXBUaW1lIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImhvdXIxMiIsImFyclRpbWUiLCJkdXJhdGlvbiIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInN0b3BzQ291bnQiLCJzdG9wc1RleHQiLCJjbGVhbkRhdGUiLCJzdWJzdHJpbmciLCJjbGVhblJldHVybkRhdGUiLCJib29raW5nTGluayIsImlkIiwiYWlybGluZSIsInN0b3BzIiwiaWF0YUNvZGUiLCJzdGF0dXNDb2RlIiwiY29kZSIsImJvZHkiLCJjaGVja0Nvbm5lY3Rpb24iLCJzdWNjZXNzIiwicmVmZXJlbmNlRGF0YSIsImxvY2F0aW9ucyIsImtleXdvcmQiLCJzdWJUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/amadeus.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/duffel.js":
/*!***************************!*\
  !*** ./src/lib/duffel.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   searchFlights: () => (/* binding */ searchFlights)\n/* harmony export */ });\n/* harmony import */ var _duffel_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @duffel/api */ \"(rsc)/./node_modules/@duffel/api/dist/index.es.js\");\n\nconst duffel = new _duffel_api__WEBPACK_IMPORTED_MODULE_0__.Duffel({\n    token: process.env.DUFFEL_ACCESS_TOKEN\n});\nasync function searchFlights(origin, destination, date, returnDate = null, adults = \"1\", children = \"0\") {\n    console.log(`âœˆï¸ [Duffel] Searching: ${origin} -> ${destination} on ${date}`);\n    if (!process.env.DUFFEL_ACCESS_TOKEN) {\n        console.error(\"âŒ [Duffel] Missing DUFFEL_ACCESS_TOKEN in .env.local\");\n        throw new Error(\"Duffel API Token missing\");\n    }\n    try {\n        // 1. Create Offer Request\n        const slices = [\n            {\n                origin: origin,\n                destination: destination,\n                departure_date: date\n            }\n        ];\n        if (returnDate) {\n            slices.push({\n                origin: destination,\n                destination: origin,\n                departure_date: returnDate\n            });\n        }\n        /* \r\n           Duffel requires passengers to be defined by type.\r\n           We'll simplify by mapping adults to 'adult' type.\r\n           Infants/Children logic can be expanded later.\r\n        */ const passengers = Array(parseInt(adults)).fill({\n            type: \"adult\"\n        });\n        // Add children if needed (future improvement)\n        const offerRequest = await duffel.offerRequests.create({\n            slices: slices,\n            passengers: passengers,\n            cabin_class: \"economy\"\n        });\n        console.log(`âœ… [Duffel] Offer Request Created: ${offerRequest.data.id}`);\n        // 2. Duffel automatically searches. We can just return the offers attached to the request\n        // OR list offers for this request. The create response typically includes some offers or we wait.\n        // For simplicity in this integration, Duffel's create response 'offers' is usually what we want immediately for test mode.\n        const offers = offerRequest.data.offers;\n        console.log(`âœ… [Duffel] Found ${offers.length} offers`);\n        // Map Duffel offers to our app's internal format\n        return offers.map((offer)=>{\n            const slice = offer.slices[0];\n            const segment = slice.segments[0]; // Simplification: Take first segment of first slice\n            return {\n                id: offer.id,\n                airline: offer.owner.name,\n                flightNumber: `${segment.operating_carrier_flight_number}`,\n                departure: formatDuffelTime(segment.departing_at),\n                arrival: formatDuffelTime(segment.arriving_at),\n                duration: formatDuffelDuration(slice.duration),\n                price: `${offer.total_currency} ${offer.total_amount}`,\n                start: origin,\n                end: destination,\n                airplane: segment.aircraft?.name || \"Aircraft\",\n                stops: slice.segments.length > 1 ? `${slice.segments.length - 1} stops` : \"Direct\"\n            };\n        });\n    } catch (error) {\n        console.error(\"âŒ [Duffel] Search Failed:\", error);\n        // Log detailed Duffel errors\n        if (error.errors) {\n            error.errors.forEach((e)=>console.error(`   - ${e.code}: ${e.message}`));\n        }\n        throw error;\n    }\n}\nfunction formatDuffelTime(isoString) {\n    // 2023-12-25T10:30:00 -> 10:30\n    return isoString.split(\"T\")[1].substring(0, 5);\n}\nfunction formatDuffelDuration(isoDuration) {\n    // P0DT4H30M -> 4h 30m (Simplistic regex parser for ISO 8601 duration)\n    // Duffel might return simpler strings or object depending on version, \n    // but usually it's ISO 8601. \n    // Actually offer.slices[0].duration is ISO 8601 string (e.g. PT2H30M)\n    // Quick parse:\n    const match = isoDuration.match(/PT(\\d+H)?(\\d+M)?/);\n    if (!match) return isoDuration;\n    const hours = match[1] ? match[1].replace(\"H\", \"h\") : \"\";\n    const mins = match[2] ? match[2].replace(\"M\", \"m\") : \"\";\n    return `${hours} ${mins}`.trim();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRUMsSUFBSSxDQUFDLEVBQUUsRUFBRUQsRUFBRUUsT0FBTyxDQUFDLENBQUM7UUFDMUU7UUFDQSxNQUFNL0M7SUFDVjtBQUNKO0FBRUEsU0FBUzZCLGlCQUFpQm1CLFNBQVM7SUFDL0IsK0JBQStCO0lBQy9CLE9BQU9BLFVBQVVDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDQyxTQUFTLENBQUMsR0FBRztBQUNoRDtBQUVBLFNBQVNoQixxQkFBcUJpQixXQUFXO0lBQ3JDLHNFQUFzRTtJQUN0RSx1RUFBdUU7SUFDdkUsOEJBQThCO0lBQzlCLHNFQUFzRTtJQUV0RSxlQUFlO0lBQ2YsTUFBTUMsUUFBUUQsWUFBWUMsS0FBSyxDQUFDO0lBQ2hDLElBQUksQ0FBQ0EsT0FBTyxPQUFPRDtJQUNuQixNQUFNRSxRQUFRRCxLQUFLLENBQUMsRUFBRSxHQUFHQSxLQUFLLENBQUMsRUFBRSxDQUFDRSxPQUFPLENBQUMsS0FBSyxPQUFPO0lBQ3RELE1BQU1DLE9BQU9ILEtBQUssQ0FBQyxFQUFFLEdBQUdBLEtBQUssQ0FBQyxFQUFFLENBQUNFLE9BQU8sQ0FBQyxLQUFLLE9BQU87SUFDckQsT0FBTyxDQUFDLEVBQUVELE1BQU0sQ0FBQyxFQUFFRSxLQUFLLENBQUMsQ0FBQ0MsSUFBSTtBQUNsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXByZXgtbmV4dGpzLy4vc3JjL2xpYi9kdWZmZWwuanM/NDg3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEdWZmZWwgfSBmcm9tICdAZHVmZmVsL2FwaSc7XHJcblxyXG5jb25zdCBkdWZmZWwgPSBuZXcgRHVmZmVsKHtcclxuICAgIHRva2VuOiBwcm9jZXNzLmVudi5EVUZGRUxfQUNDRVNTX1RPS0VOLFxyXG59KTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hGbGlnaHRzKG9yaWdpbiwgZGVzdGluYXRpb24sIGRhdGUsIHJldHVybkRhdGUgPSBudWxsLCBhZHVsdHMgPSAnMScsIGNoaWxkcmVuID0gJzAnKSB7XHJcbiAgICBjb25zb2xlLmxvZyhg4pyI77iPIFtEdWZmZWxdIFNlYXJjaGluZzogJHtvcmlnaW59IC0+ICR7ZGVzdGluYXRpb259IG9uICR7ZGF0ZX1gKTtcclxuXHJcbiAgICBpZiAoIXByb2Nlc3MuZW52LkRVRkZFTF9BQ0NFU1NfVE9LRU4pIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIFtEdWZmZWxdIE1pc3NpbmcgRFVGRkVMX0FDQ0VTU19UT0tFTiBpbiAuZW52LmxvY2FsXCIpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkR1ZmZlbCBBUEkgVG9rZW4gbWlzc2luZ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIDEuIENyZWF0ZSBPZmZlciBSZXF1ZXN0XHJcbiAgICAgICAgY29uc3Qgc2xpY2VzID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW46IG9yaWdpbixcclxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcclxuICAgICAgICAgICAgICAgIGRlcGFydHVyZV9kYXRlOiBkYXRlLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgaWYgKHJldHVybkRhdGUpIHtcclxuICAgICAgICAgICAgc2xpY2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBkZXN0aW5hdGlvbixcclxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBvcmlnaW4sXHJcbiAgICAgICAgICAgICAgICBkZXBhcnR1cmVfZGF0ZTogcmV0dXJuRGF0ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBcclxuICAgICAgICAgICBEdWZmZWwgcmVxdWlyZXMgcGFzc2VuZ2VycyB0byBiZSBkZWZpbmVkIGJ5IHR5cGUuXHJcbiAgICAgICAgICAgV2UnbGwgc2ltcGxpZnkgYnkgbWFwcGluZyBhZHVsdHMgdG8gJ2FkdWx0JyB0eXBlLlxyXG4gICAgICAgICAgIEluZmFudHMvQ2hpbGRyZW4gbG9naWMgY2FuIGJlIGV4cGFuZGVkIGxhdGVyLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgY29uc3QgcGFzc2VuZ2VycyA9IEFycmF5KHBhcnNlSW50KGFkdWx0cykpLmZpbGwoeyB0eXBlOiAnYWR1bHQnIH0pO1xyXG4gICAgICAgIC8vIEFkZCBjaGlsZHJlbiBpZiBuZWVkZWQgKGZ1dHVyZSBpbXByb3ZlbWVudClcclxuXHJcbiAgICAgICAgY29uc3Qgb2ZmZXJSZXF1ZXN0ID0gYXdhaXQgZHVmZmVsLm9mZmVyUmVxdWVzdHMuY3JlYXRlKHtcclxuICAgICAgICAgICAgc2xpY2VzOiBzbGljZXMsXHJcbiAgICAgICAgICAgIHBhc3NlbmdlcnM6IHBhc3NlbmdlcnMsXHJcbiAgICAgICAgICAgIGNhYmluX2NsYXNzOiAnZWNvbm9teScsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgW0R1ZmZlbF0gT2ZmZXIgUmVxdWVzdCBDcmVhdGVkOiAke29mZmVyUmVxdWVzdC5kYXRhLmlkfWApO1xyXG5cclxuICAgICAgICAvLyAyLiBEdWZmZWwgYXV0b21hdGljYWxseSBzZWFyY2hlcy4gV2UgY2FuIGp1c3QgcmV0dXJuIHRoZSBvZmZlcnMgYXR0YWNoZWQgdG8gdGhlIHJlcXVlc3RcclxuICAgICAgICAvLyBPUiBsaXN0IG9mZmVycyBmb3IgdGhpcyByZXF1ZXN0LiBUaGUgY3JlYXRlIHJlc3BvbnNlIHR5cGljYWxseSBpbmNsdWRlcyBzb21lIG9mZmVycyBvciB3ZSB3YWl0LlxyXG4gICAgICAgIC8vIEZvciBzaW1wbGljaXR5IGluIHRoaXMgaW50ZWdyYXRpb24sIER1ZmZlbCdzIGNyZWF0ZSByZXNwb25zZSAnb2ZmZXJzJyBpcyB1c3VhbGx5IHdoYXQgd2Ugd2FudCBpbW1lZGlhdGVseSBmb3IgdGVzdCBtb2RlLlxyXG5cclxuICAgICAgICBjb25zdCBvZmZlcnMgPSBvZmZlclJlcXVlc3QuZGF0YS5vZmZlcnM7XHJcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBbRHVmZmVsXSBGb3VuZCAke29mZmVycy5sZW5ndGh9IG9mZmVyc2ApO1xyXG5cclxuICAgICAgICAvLyBNYXAgRHVmZmVsIG9mZmVycyB0byBvdXIgYXBwJ3MgaW50ZXJuYWwgZm9ybWF0XHJcbiAgICAgICAgcmV0dXJuIG9mZmVycy5tYXAob2ZmZXIgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzbGljZSA9IG9mZmVyLnNsaWNlc1swXTtcclxuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IHNsaWNlLnNlZ21lbnRzWzBdOyAvLyBTaW1wbGlmaWNhdGlvbjogVGFrZSBmaXJzdCBzZWdtZW50IG9mIGZpcnN0IHNsaWNlXHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IG9mZmVyLmlkLFxyXG4gICAgICAgICAgICAgICAgYWlybGluZTogb2ZmZXIub3duZXIubmFtZSxcclxuICAgICAgICAgICAgICAgIGZsaWdodE51bWJlcjogYCR7c2VnbWVudC5vcGVyYXRpbmdfY2Fycmllcl9mbGlnaHRfbnVtYmVyfWAsXHJcbiAgICAgICAgICAgICAgICBkZXBhcnR1cmU6IGZvcm1hdER1ZmZlbFRpbWUoc2VnbWVudC5kZXBhcnRpbmdfYXQpLFxyXG4gICAgICAgICAgICAgICAgYXJyaXZhbDogZm9ybWF0RHVmZmVsVGltZShzZWdtZW50LmFycml2aW5nX2F0KSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBmb3JtYXREdWZmZWxEdXJhdGlvbihzbGljZS5kdXJhdGlvbiksXHJcbiAgICAgICAgICAgICAgICBwcmljZTogYCR7b2ZmZXIudG90YWxfY3VycmVuY3l9ICR7b2ZmZXIudG90YWxfYW1vdW50fWAsXHJcbiAgICAgICAgICAgICAgICBzdGFydDogb3JpZ2luLFxyXG4gICAgICAgICAgICAgICAgZW5kOiBkZXN0aW5hdGlvbixcclxuICAgICAgICAgICAgICAgIGFpcnBsYW5lOiBzZWdtZW50LmFpcmNyYWZ0Py5uYW1lIHx8ICdBaXJjcmFmdCcsXHJcbiAgICAgICAgICAgICAgICBzdG9wczogc2xpY2Uuc2VnbWVudHMubGVuZ3RoID4gMSA/IGAke3NsaWNlLnNlZ21lbnRzLmxlbmd0aCAtIDF9IHN0b3BzYCA6ICdEaXJlY3QnLFxyXG4gICAgICAgICAgICAgICAgLy8gTG9nbyBpZiBhdmFpbGFibGUgKER1ZmZlbCBzZW5kcyBsb2dvX2xvY2t1cF91cmwgb24gb3duZXIgc29tZXRpbWVzLCBidXQgd2UnbGwgdXNlIG5hbWUpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIFtEdWZmZWxdIFNlYXJjaCBGYWlsZWQ6XCIsIGVycm9yKTtcclxuICAgICAgICAvLyBMb2cgZGV0YWlsZWQgRHVmZmVsIGVycm9yc1xyXG4gICAgICAgIGlmIChlcnJvci5lcnJvcnMpIHtcclxuICAgICAgICAgICAgZXJyb3IuZXJyb3JzLmZvckVhY2goZSA9PiBjb25zb2xlLmVycm9yKGAgICAtICR7ZS5jb2RlfTogJHtlLm1lc3NhZ2V9YCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0RHVmZmVsVGltZShpc29TdHJpbmcpIHtcclxuICAgIC8vIDIwMjMtMTItMjVUMTA6MzA6MDAgLT4gMTA6MzBcclxuICAgIHJldHVybiBpc29TdHJpbmcuc3BsaXQoJ1QnKVsxXS5zdWJzdHJpbmcoMCwgNSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdER1ZmZlbER1cmF0aW9uKGlzb0R1cmF0aW9uKSB7XHJcbiAgICAvLyBQMERUNEgzME0gLT4gNGggMzBtIChTaW1wbGlzdGljIHJlZ2V4IHBhcnNlciBmb3IgSVNPIDg2MDEgZHVyYXRpb24pXHJcbiAgICAvLyBEdWZmZWwgbWlnaHQgcmV0dXJuIHNpbXBsZXIgc3RyaW5ncyBvciBvYmplY3QgZGVwZW5kaW5nIG9uIHZlcnNpb24sIFxyXG4gICAgLy8gYnV0IHVzdWFsbHkgaXQncyBJU08gODYwMS4gXHJcbiAgICAvLyBBY3R1YWxseSBvZmZlci5zbGljZXNbMF0uZHVyYXRpb24gaXMgSVNPIDg2MDEgc3RyaW5nIChlLmcuIFBUMkgzME0pXHJcblxyXG4gICAgLy8gUXVpY2sgcGFyc2U6XHJcbiAgICBjb25zdCBtYXRjaCA9IGlzb0R1cmF0aW9uLm1hdGNoKC9QVChcXGQrSCk/KFxcZCtNKT8vKTtcclxuICAgIGlmICghbWF0Y2gpIHJldHVybiBpc29EdXJhdGlvbjtcclxuICAgIGNvbnN0IGhvdXJzID0gbWF0Y2hbMV0gPyBtYXRjaFsxXS5yZXBsYWNlKCdIJywgJ2gnKSA6ICcnO1xyXG4gICAgY29uc3QgbWlucyA9IG1hdGNoWzJdID8gbWF0Y2hbMl0ucmVwbGFjZSgnTScsICdtJykgOiAnJztcclxuICAgIHJldHVybiBgJHtob3Vyc30gJHttaW5zfWAudHJpbSgpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJEdWZmZWwiLCJkdWZmZWwiLCJ0b2tlbiIsInByb2Nlc3MiLCJlbnYiLCJEVUZGRUxfQUNDRVNTX1RPS0VOIiwic2VhcmNoRmxpZ2h0cyIsIm9yaWdpbiIsImRlc3RpbmF0aW9uIiwiZGF0ZSIsInJldHVybkRhdGUiLCJhZHVsdHMiLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIkVycm9yIiwic2xpY2VzIiwiZGVwYXJ0dXJlX2RhdGUiLCJwdXNoIiwicGFzc2VuZ2VycyIsIkFycmF5IiwicGFyc2VJbnQiLCJmaWxsIiwidHlwZSIsIm9mZmVyUmVxdWVzdCIsIm9mZmVyUmVxdWVzdHMiLCJjcmVhdGUiLCJjYWJpbl9jbGFzcyIsImRhdGEiLCJpZCIsIm9mZmVycyIsImxlbmd0aCIsIm1hcCIsIm9mZmVyIiwic2xpY2UiLCJzZWdtZW50Iiwic2VnbWVudHMiLCJhaXJsaW5lIiwib3duZXIiLCJuYW1lIiwiZmxpZ2h0TnVtYmVyIiwib3BlcmF0aW5nX2NhcnJpZXJfZmxpZ2h0X251bWJlciIsImRlcGFydHVyZSIsImZvcm1hdER1ZmZlbFRpbWUiLCJkZXBhcnRpbmdfYXQiLCJhcnJpdmFsIiwiYXJyaXZpbmdfYXQiLCJkdXJhdGlvbiIsImZvcm1hdER1ZmZlbER1cmF0aW9uIiwicHJpY2UiLCJ0b3RhbF9jdXJyZW5jeSIsInRvdGFsX2Ftb3VudCIsInN0YXJ0IiwiZW5kIiwiYWlycGxhbmUiLCJhaXJjcmFmdCIsInN0b3BzIiwiZXJyb3JzIiwiZm9yRWFjaCIsImUiLCJjb2RlIiwibWVzc2FnZSIsImlzb1N0cmluZyIsInNwbGl0Iiwic3Vic3RyaW5nIiwiaXNvRHVyYXRpb24iLCJtYXRjaCIsImhvdXJzIiwicmVwbGFjZSIsIm1pbnMiLCJ0cmltIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/duffel.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/amadeus","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/whatwg-url","vendor-chunks/qs","vendor-chunks/call-bind-apply-helpers","vendor-chunks/get-proto","vendor-chunks/tr46","vendor-chunks/object-inspect","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/node-fetch","vendor-chunks/webidl-conversions","vendor-chunks/side-channel","vendor-chunks/side-channel-weakmap","vendor-chunks/side-channel-map","vendor-chunks/side-channel-list","vendor-chunks/hasown","vendor-chunks/get-intrinsic","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/call-bound","vendor-chunks/@duffel"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fflights%2Fsearch%2Froute&page=%2Fapi%2Fflights%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fflights%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();