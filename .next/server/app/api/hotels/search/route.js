/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/hotels/search/route";
exports.ids = ["app/api/hotels/search/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("puppeteer");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhotels%2Fsearch%2Froute&page=%2Fapi%2Fhotels%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhotels%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhotels%2Fsearch%2Froute&page=%2Fapi%2Fhotels%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhotels%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_HomePC_Documents_itravelshub_triprex_files_LRT_Version_src_app_api_hotels_search_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/hotels/search/route.js */ \"(rsc)/./src/app/api/hotels/search/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/hotels/search/route\",\n        pathname: \"/api/hotels/search\",\n        filename: \"route\",\n        bundlePath: \"app/api/hotels/search/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\HomePC\\\\Documents\\\\itravelshub\\\\triprex-files\\\\LRT-Version\\\\src\\\\app\\\\api\\\\hotels\\\\search\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_HomePC_Documents_itravelshub_triprex_files_LRT_Version_src_app_api_hotels_search_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/hotels/search/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZob3RlbHMlMkZzZWFyY2glMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmhvdGVscyUyRnNlYXJjaCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmhvdGVscyUyRnNlYXJjaCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNIb21lUEMlNUNEb2N1bWVudHMlNUNpdHJhdmVsc2h1YiU1Q3RyaXByZXgtZmlsZXMlNUNMUlQtVmVyc2lvbiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDSG9tZVBDJTVDRG9jdW1lbnRzJTVDaXRyYXZlbHNodWIlNUN0cmlwcmV4LWZpbGVzJTVDTFJULVZlcnNpb24maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDOEQ7QUFDM0k7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwcmV4LW5leHRqcy8/YTBhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxIb21lUENcXFxcRG9jdW1lbnRzXFxcXGl0cmF2ZWxzaHViXFxcXHRyaXByZXgtZmlsZXNcXFxcTFJULVZlcnNpb25cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcaG90ZWxzXFxcXHNlYXJjaFxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvaG90ZWxzL3NlYXJjaC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2hvdGVscy9zZWFyY2hcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2hvdGVscy9zZWFyY2gvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxIb21lUENcXFxcRG9jdW1lbnRzXFxcXGl0cmF2ZWxzaHViXFxcXHRyaXByZXgtZmlsZXNcXFxcTFJULVZlcnNpb25cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcaG90ZWxzXFxcXHNlYXJjaFxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9ob3RlbHMvc2VhcmNoL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhotels%2Fsearch%2Froute&page=%2Fapi%2Fhotels%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhotels%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/hotels/search/route.js":
/*!********************************************!*\
  !*** ./src/app/api/hotels/search/route.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\nconst { searchHotels } = __webpack_require__(/*! @/lib/hotelScraper */ \"(rsc)/./src/lib/hotelScraper.js\");\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { location, checkIn, checkOut, guests, offset = 0 } = body;\n        // Basic validation\n        if (!location || !checkIn || !checkOut || !guests || typeof guests !== \"object\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        const hotels = await searchHotels(location, checkIn, checkOut, guests, offset);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(hotels);\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ob3RlbHMvc2VhcmNoL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJDO0FBQzNDLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUdDLG1CQUFPQSxDQUFDO0FBRTFCLGVBQWVDLEtBQUtDLE9BQU87SUFDOUIsSUFBSTtRQUNBLE1BQU1DLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtRQUMvQixNQUFNLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsU0FBUyxDQUFDLEVBQUUsR0FBR047UUFFNUQsbUJBQW1CO1FBQ25CLElBQUksQ0FBQ0UsWUFBWSxDQUFDQyxXQUFXLENBQUNDLFlBQVksQ0FBQ0MsVUFBVSxPQUFPQSxXQUFXLFVBQVU7WUFDN0UsT0FBT1Ysa0ZBQVlBLENBQUNNLElBQUksQ0FBQztnQkFBRU0sT0FBTztZQUEwQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDakY7UUFFQSxNQUFNQyxTQUFTLE1BQU1iLGFBQWFNLFVBQVVDLFNBQVNDLFVBQVVDLFFBQVFDO1FBRXZFLE9BQU9YLGtGQUFZQSxDQUFDTSxJQUFJLENBQUNRO0lBQzdCLEVBQUUsT0FBT0YsT0FBTztRQUNaRyxRQUFRSCxLQUFLLENBQUMsY0FBY0E7UUFDNUIsT0FBT1osa0ZBQVlBLENBQUNNLElBQUksQ0FBQztZQUFFTSxPQUFPO1FBQXdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQy9FO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwcmV4LW5leHRqcy8uL3NyYy9hcHAvYXBpL2hvdGVscy9zZWFyY2gvcm91dGUuanM/Y2FiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmNvbnN0IHsgc2VhcmNoSG90ZWxzIH0gPSByZXF1aXJlKCdAL2xpYi9ob3RlbFNjcmFwZXInKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgICAgIGNvbnN0IHsgbG9jYXRpb24sIGNoZWNrSW4sIGNoZWNrT3V0LCBndWVzdHMsIG9mZnNldCA9IDAgfSA9IGJvZHk7XHJcblxyXG4gICAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxvY2F0aW9uIHx8ICFjaGVja0luIHx8ICFjaGVja091dCB8fCAhZ3Vlc3RzIHx8IHR5cGVvZiBndWVzdHMgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBob3RlbHMgPSBhd2FpdCBzZWFyY2hIb3RlbHMobG9jYXRpb24sIGNoZWNrSW4sIGNoZWNrT3V0LCBndWVzdHMsIG9mZnNldCk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihob3RlbHMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzZWFyY2hIb3RlbHMiLCJyZXF1aXJlIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsImxvY2F0aW9uIiwiY2hlY2tJbiIsImNoZWNrT3V0IiwiZ3Vlc3RzIiwib2Zmc2V0IiwiZXJyb3IiLCJzdGF0dXMiLCJob3RlbHMiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/hotels/search/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/hotelScraper.js":
/*!*********************************!*\
  !*** ./src/lib/hotelScraper.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const puppeteer = __webpack_require__(/*! puppeteer */ \"puppeteer\");\n/**\r\n * Get Puppeteer configuration based on environment\r\n */ function getPuppeteerConfig() {\n    const isRender = \"development\" === \"production\";\n    if (isRender) {\n        console.log(\"\\uD83D\\uDE80 Render environment - using system Chrome\");\n        return {\n            headless: \"new\",\n            args: [\n                \"--no-sandbox\",\n                \"--disable-setuid-sandbox\",\n                \"--disable-dev-shm-usage\"\n            ],\n            executablePath: \"/usr/bin/google-chrome-stable\"\n        };\n    } else {\n        console.log(\"\\uD83D\\uDCBB Local environment - using default Puppeteer\");\n        return {\n            headless: \"new\",\n            args: [\n                \"--no-sandbox\",\n                \"--disable-setuid-sandbox\"\n            ]\n        };\n    }\n}\n/**\r\n * @typedef {Object} GuestConfig\r\n * @property {number} adults\r\n * @property {number} children\r\n * @property {number} rooms\r\n */ /**\r\n * @typedef {Object} Hotel\r\n * @property {string} name\r\n * @property {string} price\r\n * @property {string} rating\r\n * @property {string} [image]\r\n * @property {string} [reviews]\r\n * @property {string} [link]\r\n * @property {string[]} [vibes]\r\n * @property {string} [city]\r\n */ /**\r\n * Search for hotels using Puppeteer to scrape Booking.com\r\n * @param {string} location - Destination city or location\r\n * @param {string} checkIn - Check-in date (yyyy-MM-dd format)\r\n * @param {string} checkOut - Check-out date (yyyy-MM-dd format)\r\n * @param {GuestConfig} guests - Guest configuration\r\n * @param {number} [offset=0] - Pagination offset\r\n * @returns {Promise<Hotel[]>}\r\n */ async function searchHotels(location, checkIn, checkOut, guests, offset = 0) {\n    let browser;\n    try {\n        // Use environment-specific config\n        const puppeteerConfig = getPuppeteerConfig();\n        console.log(\"Launching browser with config:\", puppeteerConfig.args);\n        browser = await puppeteer.launch(puppeteerConfig);\n        const page = await browser.newPage();\n        // Set realistic user agent and headers\n        await page.setUserAgent(\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\");\n        // Add stealth headers\n        await page.setExtraHTTPHeaders({\n            \"Accept-Language\": \"en-US,en;q=0.9\",\n            \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n            \"Upgrade-Insecure-Requests\": \"1\"\n        });\n        const url = `https://www.booking.com/searchresults.html?ss=${encodeURIComponent(location)}&checkin=${checkIn}&checkout=${checkOut}&group_adults=${guests.adults}&group_children=${guests.children}&no_rooms=${guests.rooms}&selected_currency=USD&lang=en-us&offset=${offset}`;\n        console.log(`Navigating to: ${url}`);\n        // Go to page with longer timeout for Render\n        await page.goto(url, {\n            waitUntil: \"domcontentloaded\",\n            timeout:  false ? 0 : 60000\n        });\n        // Check if we're on the right page\n        const currentUrl = await page.url();\n        console.log(\"Current URL after navigation:\", currentUrl);\n        // Wait for content with multiple selector options\n        const selectors = [\n            '[data-testid=\"property-card\"]',\n            \".sr_property_block\",\n            \".sr-item\"\n        ];\n        let cardsFound = false;\n        for (const selector of selectors){\n            try {\n                await page.waitForSelector(selector, {\n                    timeout: 10000\n                });\n                cardsFound = true;\n                console.log(`Found elements with selector: ${selector}`);\n                break;\n            } catch (e) {\n            // Continue to next selector\n            }\n        }\n        if (!cardsFound) {\n            console.log(\"No hotel cards found with any selector\");\n            return [];\n        }\n        const hotels = await page.evaluate(()=>{\n            const cards = Array.from(document.querySelectorAll('[data-testid=\"property-card\"]'));\n            return cards.map((card)=>{\n                const titleElement = card.querySelector('[data-testid=\"title\"]');\n                const priceElement = card.querySelector('[data-testid=\"price-and-discounted-price\"]');\n                const ratingElement = card.querySelector('[data-testid=\"review-score\"]');\n                const imageElement = card.querySelector('[data-testid=\"image\"]');\n                const linkElement = card.querySelector('a[data-testid=\"title-link\"]') || card.querySelector(\"a\");\n                const addressElement = card.querySelector('[data-testid=\"address\"]');\n                let rating = \"N/A\";\n                if (ratingElement) {\n                    rating = ratingElement.textContent?.trim() || \"N/A\";\n                    const match = rating.match(/\\d+(\\.\\d+)?/);\n                    if (match) rating = match[0];\n                }\n                let imageUrl = imageElement?.getAttribute(\"src\");\n                if (!imageUrl) {\n                    // Try finding in srcset\n                    const srcset = imageElement?.getAttribute(\"srcset\");\n                    if (srcset) {\n                        const sources = srcset.split(\",\").map((s)=>s.trim().split(\" \"));\n                        // Get largest image\n                        if (sources.length > 0) imageUrl = sources[sources.length - 1][0];\n                    }\n                }\n                if (imageUrl) {\n                    // Try to get a larger version if it's a small one\n                    imageUrl = imageUrl.replace(/max\\d+/, \"max1024x768\");\n                    imageUrl = imageUrl.replace(/square\\d+/, \"max1024x768\");\n                }\n                // AI Vibe Heuristics\n                const vibes = [];\n                const nameLower = (titleElement?.textContent || \"\").toLowerCase();\n                if (nameLower.includes(\"resort\") || nameLower.includes(\"spa\") || nameLower.includes(\"beach\")) vibes.push(\"Relaxation\");\n                if (nameLower.includes(\"hostel\") || nameLower.includes(\"backpackers\")) vibes.push(\"Social\");\n                if (nameLower.includes(\"business\") || nameLower.includes(\"suite\") || nameLower.includes(\"airport\")) vibes.push(\"Work\");\n                if (nameLower.includes(\"boutique\") || nameLower.includes(\"villa\") || nameLower.includes(\"design\")) vibes.push(\"Romantic\");\n                if (nameLower.includes(\"apartment\") || nameLower.includes(\"home\")) vibes.push(\"Family\");\n                // Fallback vibe if none found\n                if (vibes.length === 0) vibes.push(\"Hidden Gem\");\n                return {\n                    name: titleElement?.textContent?.trim() || \"Unknown Hotel\",\n                    price: priceElement?.textContent?.trim() || \"Contact for Price\",\n                    rating: rating,\n                    image: imageUrl || undefined,\n                    reviews: \"Verified Reviews\",\n                    link: linkElement?.getAttribute(\"href\") || undefined,\n                    vibes: vibes,\n                    city: addressElement?.textContent?.trim() || undefined\n                };\n            });\n        });\n        console.log(`Found ${hotels.length} hotels.`);\n        return hotels;\n    } catch (error) {\n        console.error(\"Scraping failed:\", error.message);\n        return [];\n    } finally{\n        if (browser) await browser.close();\n    }\n}\n/**\r\n * @typedef {Object} HotelDetails\r\n * @property {string} description\r\n * @property {string[]} amenities\r\n * @property {string[]} images\r\n * @property {string[]} [rooms]\r\n * @property {Object} [houseRules]\r\n * @property {string} [houseRules.checkIn]\r\n * @property {string} [houseRules.checkOut]\r\n * @property {Object} [truthLens]\r\n * @property {string[]} truthLens.pros\r\n * @property {string[]} truthLens.cons\r\n */ /**\r\n * Scrape detailed hotel information\r\n * @param {string} url - Hotel detail page URL\r\n * @returns {Promise<HotelDetails|null>}\r\n */ async function scrapeHotelDetails(url) {\n    let browser;\n    try {\n        const puppeteerConfig = getPuppeteerConfig();\n        browser = await puppeteer.launch(puppeteerConfig);\n        const page = await browser.newPage();\n        await page.setViewport({\n            width: 1920,\n            height: 1080\n        });\n        await page.setUserAgent(\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\");\n        console.log(`Details scraping for: ${url}`);\n        await page.goto(url, {\n            waitUntil: \"domcontentloaded\",\n            timeout: 30000\n        });\n        // Extract Description\n        const description = await page.evaluate(()=>{\n            const selectors = [\n                '[data-testid=\"property-section-description-content\"]',\n                \"#property_description_content\",\n                \".hotel_description_wrapper_exp\",\n                \".hp_desc_main_content\"\n            ];\n            for (const sel of selectors){\n                const el = document.querySelector(sel);\n                if (el && el.textContent && el.textContent.length > 50) return el.textContent.trim();\n            }\n            const paragraphs = document.querySelectorAll(\"p\");\n            for (const p of Array.from(paragraphs)){\n                if (p.textContent && p.textContent.length > 100) return p.textContent.trim();\n            }\n            return \"\";\n        });\n        // Extract Amenities\n        const amenities = await page.evaluate(()=>{\n            let items = [];\n            const popular = document.querySelectorAll('[data-testid=\"property-most-popular-facilities-wrapper\"] li, .bui-list__item, .hotel-facilities__list li');\n            items = Array.from(popular).map((el)=>el.textContent?.trim() || \"\").filter((t)=>t.length > 2);\n            if (items.length < 3) {\n                const facilitiesText = document.querySelector(\".facilitiesChecklist\")?.textContent;\n                if (facilitiesText) {\n                    items = facilitiesText.split(\"\\n\").map((s)=>s.trim()).filter((s)=>s.length > 3 && s.length < 30);\n                }\n            }\n            return items.slice(0, 12);\n        });\n        // Extract Room Types\n        const rooms = await page.evaluate(()=>{\n            const roomRows = document.querySelectorAll('#hprt-table tbody tr, [data-testid=\"room-table\"] tr');\n            const roomNames = new Set();\n            roomRows.forEach((row)=>{\n                const nameEl = row.querySelector('.hprt-roomtype-link, [data-testid=\"room-name\"]');\n                if (nameEl && nameEl.textContent) {\n                    const name = nameEl.textContent.trim().split(\"\\n\")[0];\n                    if (name.length > 3) roomNames.add(name);\n                }\n            });\n            return Array.from(roomNames).slice(0, 5);\n        });\n        // Extract House Rules\n        const houseRules = await page.evaluate(()=>{\n            const checkIn = document.querySelector('#checkin_policy, [data-testid=\"checkin-policy\"]')?.textContent?.replace(\"Check-in\", \"\").trim();\n            const checkOut = document.querySelector('#checkout_policy, [data-testid=\"checkout-policy\"]')?.textContent?.replace(\"Check-out\", \"\").trim();\n            return {\n                checkIn,\n                checkOut\n            };\n        });\n        // Extract Images\n        const images = await page.evaluate(()=>{\n            const uniqueImages = new Set();\n            const validImages = [];\n            const imgs = document.querySelectorAll('.bh-photo-grid-item img, .gallery-side-reviews-wrapper img, [data-testid=\"gallery-image\"], #hotel_main_content img');\n            Array.from(imgs).forEach((img)=>{\n                const src = img.src;\n                if (src && !src.includes(\"pixel\") && !uniqueImages.has(src)) {\n                    const highRes = src.replace(/\\/max\\d+\\//, \"/max1280x900/\");\n                    if (!uniqueImages.has(highRes)) {\n                        uniqueImages.add(highRes);\n                        validImages.push(highRes);\n                    }\n                }\n            });\n            return validImages.slice(0, 8);\n        });\n        // Truth Lens Logic\n        const truthLens = {\n            pros: [],\n            cons: []\n        };\n        const lowerDesc = description.toLowerCase();\n        const lowerName = (await page.title()).toLowerCase();\n        // Pros analysis\n        if (amenities.some((a)=>a.toLowerCase().includes(\"pool\")) || lowerDesc.includes(\"pool\")) truthLens.pros.push(\"Aquatic Center Verified\");\n        if (amenities.some((a)=>a.toLowerCase().includes(\"wifi\")) && !lowerDesc.includes(\"paid wifi\")) truthLens.pros.push(\"Remote Work Ready\");\n        if (lowerDesc.includes(\"heart of\") || lowerDesc.includes(\"center\") || lowerDesc.includes(\"walking distance\")) truthLens.pros.push(\"Prime Location\");\n        if (amenities.some((a)=>a.includes(\"Breakfast\"))) truthLens.pros.push(\"Breakfast Included\");\n        // Cons analysis\n        if (lowerDesc.includes(\"lively area\") || lowerDesc.includes(\"nightlife\") || lowerDesc.includes(\"bar\")) truthLens.cons.push(\"Potential Noise Risk\");\n        if (!amenities.some((a)=>a.toLowerCase().includes(\"elevator\")) && !amenities.some((a)=>a.toLowerCase().includes(\"lift\")) && lowerDesc.includes(\"floor\")) truthLens.cons.push(\"Stairs Only Warning\");\n        if (lowerDesc.includes(\"compact\") || lowerDesc.includes(\"cosy\") || lowerDesc.includes(\"small room\")) truthLens.cons.push(\"Small Room Size\");\n        if (lowerDesc.includes(\"shared bathroom\")) truthLens.cons.push(\"Shared Bathroom\");\n        if (truthLens.pros.length === 0) truthLens.pros.push(\"Standard Amenities\");\n        if (truthLens.cons.length === 0) truthLens.cons.push(\"No Red Flags Detected\");\n        return {\n            description,\n            amenities,\n            images,\n            rooms,\n            houseRules,\n            truthLens\n        };\n    } catch (error) {\n        console.error(\"Error scraping hotel details:\", error);\n        return null;\n    } finally{\n        if (browser) await browser.close();\n    }\n}\nmodule.exports = {\n    searchHotels,\n    scrapeHotelDetails\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxHQUFHaUQsVUFBVUMsSUFBSSxDQUFDNUMsSUFBSSxDQUFDO1FBQ3JELElBQUkyQyxVQUFVRSxJQUFJLENBQUNuRCxNQUFNLEtBQUssR0FBR2lELFVBQVVFLElBQUksQ0FBQzdDLElBQUksQ0FBQztRQUVyRCxPQUFPO1lBQUVlO1lBQWFLO1lBQVdlO1lBQVE3RTtZQUFPNEU7WUFBWVM7UUFBVTtJQUUxRSxFQUFFLE9BQU9uQyxPQUFPO1FBQ1p4RSxRQUFRd0UsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDL0MsT0FBTztJQUNYLFNBQVU7UUFDTixJQUFJN0QsU0FBUyxNQUFNQSxRQUFRK0QsS0FBSztJQUNwQztBQUNKO0FBRUF5QyxPQUFPQyxPQUFPLEdBQUc7SUFBRS9HO0lBQWNzRTtBQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXByZXgtbmV4dGpzLy4vc3JjL2xpYi9ob3RlbFNjcmFwZXIuanM/ZTA0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwdXBwZXRlZXIgPSByZXF1aXJlKCdwdXBwZXRlZXInKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgUHVwcGV0ZWVyIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gZW52aXJvbm1lbnRcclxuICovXHJcbmZ1bmN0aW9uIGdldFB1cHBldGVlckNvbmZpZygpIHtcclxuICBjb25zdCBpc1JlbmRlciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XHJcbiAgXHJcbiAgaWYgKGlzUmVuZGVyKSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+agCBSZW5kZXIgZW52aXJvbm1lbnQgLSB1c2luZyBzeXN0ZW0gQ2hyb21lJyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoZWFkbGVzczogJ25ldycsXHJcbiAgICAgIGFyZ3M6IFsnLS1uby1zYW5kYm94JywgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCcsICctLWRpc2FibGUtZGV2LXNobS11c2FnZSddLFxyXG4gICAgICBleGVjdXRhYmxlUGF0aDogJy91c3IvYmluL2dvb2dsZS1jaHJvbWUtc3RhYmxlJ1xyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coJ/CfkrsgTG9jYWwgZW52aXJvbm1lbnQgLSB1c2luZyBkZWZhdWx0IFB1cHBldGVlcicpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaGVhZGxlc3M6ICduZXcnLFxyXG4gICAgICBhcmdzOiBbJy0tbm8tc2FuZGJveCcsICctLWRpc2FibGUtc2V0dWlkLXNhbmRib3gnXVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBHdWVzdENvbmZpZ1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0gYWR1bHRzXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjaGlsZHJlblxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gcm9vbXNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gSG90ZWxcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWVcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IHByaWNlXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSByYXRpbmdcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtpbWFnZV1cclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtyZXZpZXdzXVxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2xpbmtdXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IFt2aWJlc11cclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjaXR5XVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBTZWFyY2ggZm9yIGhvdGVscyB1c2luZyBQdXBwZXRlZXIgdG8gc2NyYXBlIEJvb2tpbmcuY29tXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiAtIERlc3RpbmF0aW9uIGNpdHkgb3IgbG9jYXRpb25cclxuICogQHBhcmFtIHtzdHJpbmd9IGNoZWNrSW4gLSBDaGVjay1pbiBkYXRlICh5eXl5LU1NLWRkIGZvcm1hdClcclxuICogQHBhcmFtIHtzdHJpbmd9IGNoZWNrT3V0IC0gQ2hlY2stb3V0IGRhdGUgKHl5eXktTU0tZGQgZm9ybWF0KVxyXG4gKiBAcGFyYW0ge0d1ZXN0Q29uZmlnfSBndWVzdHMgLSBHdWVzdCBjb25maWd1cmF0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0PTBdIC0gUGFnaW5hdGlvbiBvZmZzZXRcclxuICogQHJldHVybnMge1Byb21pc2U8SG90ZWxbXT59XHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBzZWFyY2hIb3RlbHMobG9jYXRpb24sIGNoZWNrSW4sIGNoZWNrT3V0LCBndWVzdHMsIG9mZnNldCA9IDApIHtcclxuICAgIGxldCBicm93c2VyO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBVc2UgZW52aXJvbm1lbnQtc3BlY2lmaWMgY29uZmlnXHJcbiAgICAgICAgY29uc3QgcHVwcGV0ZWVyQ29uZmlnID0gZ2V0UHVwcGV0ZWVyQ29uZmlnKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xhdW5jaGluZyBicm93c2VyIHdpdGggY29uZmlnOicsIHB1cHBldGVlckNvbmZpZy5hcmdzKTtcclxuICAgICAgICBcclxuICAgICAgICBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaChwdXBwZXRlZXJDb25maWcpO1xyXG5cclxuICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgYnJvd3Nlci5uZXdQYWdlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHJlYWxpc3RpYyB1c2VyIGFnZW50IGFuZCBoZWFkZXJzXHJcbiAgICAgICAgYXdhaXQgcGFnZS5zZXRVc2VyQWdlbnQoJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFkZCBzdGVhbHRoIGhlYWRlcnNcclxuICAgICAgICBhd2FpdCBwYWdlLnNldEV4dHJhSFRUUEhlYWRlcnMoe1xyXG4gICAgICAgICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JyxcclxuICAgICAgICAgICAgJ0FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLCovKjtxPTAuOCcsXHJcbiAgICAgICAgICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzJzogJzEnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVybCA9IGBodHRwczovL3d3dy5ib29raW5nLmNvbS9zZWFyY2hyZXN1bHRzLmh0bWw/c3M9JHtlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb24pfSZjaGVja2luPSR7Y2hlY2tJbn0mY2hlY2tvdXQ9JHtjaGVja091dH0mZ3JvdXBfYWR1bHRzPSR7Z3Vlc3RzLmFkdWx0c30mZ3JvdXBfY2hpbGRyZW49JHtndWVzdHMuY2hpbGRyZW59Jm5vX3Jvb21zPSR7Z3Vlc3RzLnJvb21zfSZzZWxlY3RlZF9jdXJyZW5jeT1VU0QmbGFuZz1lbi11cyZvZmZzZXQ9JHtvZmZzZXR9YDtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYE5hdmlnYXRpbmcgdG86ICR7dXJsfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEdvIHRvIHBhZ2Ugd2l0aCBsb25nZXIgdGltZW91dCBmb3IgUmVuZGVyXHJcbiAgICAgICAgYXdhaXQgcGFnZS5nb3RvKHVybCwgeyBcclxuICAgICAgICAgICAgd2FpdFVudGlsOiAnZG9tY29udGVudGxvYWRlZCcsIFxyXG4gICAgICAgICAgICB0aW1lb3V0OiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gOTAwMDAgOiA2MDAwMCBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgb24gdGhlIHJpZ2h0IHBhZ2VcclxuICAgICAgICBjb25zdCBjdXJyZW50VXJsID0gYXdhaXQgcGFnZS51cmwoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBVUkwgYWZ0ZXIgbmF2aWdhdGlvbjonLCBjdXJyZW50VXJsKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBXYWl0IGZvciBjb250ZW50IHdpdGggbXVsdGlwbGUgc2VsZWN0b3Igb3B0aW9uc1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdG9ycyA9IFtcclxuICAgICAgICAgICAgJ1tkYXRhLXRlc3RpZD1cInByb3BlcnR5LWNhcmRcIl0nLFxyXG4gICAgICAgICAgICAnLnNyX3Byb3BlcnR5X2Jsb2NrJyxcclxuICAgICAgICAgICAgJy5zci1pdGVtJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGNhcmRzRm91bmQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIHNlbGVjdG9ycykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcGFnZS53YWl0Rm9yU2VsZWN0b3Ioc2VsZWN0b3IsIHsgdGltZW91dDogMTAwMDAgfSk7XHJcbiAgICAgICAgICAgICAgICBjYXJkc0ZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCBlbGVtZW50cyB3aXRoIHNlbGVjdG9yOiAke3NlbGVjdG9yfWApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRvIG5leHQgc2VsZWN0b3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWNhcmRzRm91bmQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGhvdGVsIGNhcmRzIGZvdW5kIHdpdGggYW55IHNlbGVjdG9yJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGhvdGVscyA9IGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYXJkcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGVzdGlkPVwicHJvcGVydHktY2FyZFwiXScpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhcmRzLm1hcChjYXJkID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlRWxlbWVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwidGl0bGVcIl0nKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByaWNlRWxlbWVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwicHJpY2UtYW5kLWRpc2NvdW50ZWQtcHJpY2VcIl0nKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZ0VsZW1lbnQgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlc3RpZD1cInJldmlldy1zY29yZVwiXScpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9XCJpbWFnZVwiXScpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGlua0VsZW1lbnQgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ2FbZGF0YS10ZXN0aWQ9XCJ0aXRsZS1saW5rXCJdJykgfHwgY2FyZC5xdWVyeVNlbGVjdG9yKCdhJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzRWxlbWVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwiYWRkcmVzc1wiXScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCByYXRpbmcgPSAnTi9BJztcclxuICAgICAgICAgICAgICAgIGlmIChyYXRpbmdFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nID0gcmF0aW5nRWxlbWVudC50ZXh0Q29udGVudD8udHJpbSgpIHx8ICdOL0EnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gcmF0aW5nLm1hdGNoKC9cXGQrKFxcLlxcZCspPy8pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgcmF0aW5nID0gbWF0Y2hbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGltYWdlVXJsID0gaW1hZ2VFbGVtZW50Py5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpbWFnZVVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSBmaW5kaW5nIGluIHNyY3NldFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNyY3NldCA9IGltYWdlRWxlbWVudD8uZ2V0QXR0cmlidXRlKCdzcmNzZXQnKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Jjc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZXMgPSBzcmNzZXQuc3BsaXQoJywnKS5tYXAocyA9PiBzLnRyaW0oKS5zcGxpdCgnICcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IGxhcmdlc3QgaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZXMubGVuZ3RoID4gMCkgaW1hZ2VVcmwgPSBzb3VyY2VzW3NvdXJjZXMubGVuZ3RoIC0gMV1bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbWFnZVVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBnZXQgYSBsYXJnZXIgdmVyc2lvbiBpZiBpdCdzIGEgc21hbGwgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmwgPSBpbWFnZVVybC5yZXBsYWNlKC9tYXhcXGQrLywgJ21heDEwMjR4NzY4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmwgPSBpbWFnZVVybC5yZXBsYWNlKC9zcXVhcmVcXGQrLywgJ21heDEwMjR4NzY4Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQUkgVmliZSBIZXVyaXN0aWNzXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2aWJlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZUxvd2VyID0gKHRpdGxlRWxlbWVudD8udGV4dENvbnRlbnQgfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWVMb3dlci5pbmNsdWRlcygncmVzb3J0JykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdzcGEnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ2JlYWNoJykpIHZpYmVzLnB1c2goJ1JlbGF4YXRpb24nKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lTG93ZXIuaW5jbHVkZXMoJ2hvc3RlbCcpIHx8IG5hbWVMb3dlci5pbmNsdWRlcygnYmFja3BhY2tlcnMnKSkgdmliZXMucHVzaCgnU29jaWFsJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZUxvd2VyLmluY2x1ZGVzKCdidXNpbmVzcycpIHx8IG5hbWVMb3dlci5pbmNsdWRlcygnc3VpdGUnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ2FpcnBvcnQnKSkgdmliZXMucHVzaCgnV29yaycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWVMb3dlci5pbmNsdWRlcygnYm91dGlxdWUnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ3ZpbGxhJykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdkZXNpZ24nKSkgdmliZXMucHVzaCgnUm9tYW50aWMnKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lTG93ZXIuaW5jbHVkZXMoJ2FwYXJ0bWVudCcpIHx8IG5hbWVMb3dlci5pbmNsdWRlcygnaG9tZScpKSB2aWJlcy5wdXNoKCdGYW1pbHknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB2aWJlIGlmIG5vbmUgZm91bmRcclxuICAgICAgICAgICAgICAgIGlmICh2aWJlcy5sZW5ndGggPT09IDApIHZpYmVzLnB1c2goJ0hpZGRlbiBHZW0nKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRpdGxlRWxlbWVudD8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnVW5rbm93biBIb3RlbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlRWxlbWVudD8udGV4dENvbnRlbnQ/LnRyaW0oKSB8fCAnQ29udGFjdCBmb3IgUHJpY2UnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZzogcmF0aW5nLFxyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZVVybCB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmV2aWV3czogJ1ZlcmlmaWVkIFJldmlld3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IGxpbmtFbGVtZW50Py5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmliZXM6IHZpYmVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNpdHk6IGFkZHJlc3NFbGVtZW50Py50ZXh0Q29udGVudD8udHJpbSgpIHx8IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2hvdGVscy5sZW5ndGh9IGhvdGVscy5gKTtcclxuICAgICAgICByZXR1cm4gaG90ZWxzO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignU2NyYXBpbmcgZmFpbGVkOicsIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgaWYgKGJyb3dzZXIpIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEhvdGVsRGV0YWlsc1xyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGVzY3JpcHRpb25cclxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gYW1lbml0aWVzXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGltYWdlc1xyXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBbcm9vbXNdXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbaG91c2VSdWxlc11cclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtob3VzZVJ1bGVzLmNoZWNrSW5dXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaG91c2VSdWxlcy5jaGVja091dF1cclxuICogQHByb3BlcnR5IHtPYmplY3R9IFt0cnV0aExlbnNdXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IHRydXRoTGVucy5wcm9zXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IHRydXRoTGVucy5jb25zXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFNjcmFwZSBkZXRhaWxlZCBob3RlbCBpbmZvcm1hdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gSG90ZWwgZGV0YWlsIHBhZ2UgVVJMXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEhvdGVsRGV0YWlsc3xudWxsPn1cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNjcmFwZUhvdGVsRGV0YWlscyh1cmwpIHtcclxuICAgIGxldCBicm93c2VyO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwdXBwZXRlZXJDb25maWcgPSBnZXRQdXBwZXRlZXJDb25maWcoKTtcclxuICAgICAgICBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaChwdXBwZXRlZXJDb25maWcpO1xyXG5cclxuICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgYnJvd3Nlci5uZXdQYWdlKCk7XHJcbiAgICAgICAgYXdhaXQgcGFnZS5zZXRWaWV3cG9ydCh7IHdpZHRoOiAxOTIwLCBoZWlnaHQ6IDEwODAgfSk7XHJcbiAgICAgICAgYXdhaXQgcGFnZS5zZXRVc2VyQWdlbnQoJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNicpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgRGV0YWlscyBzY3JhcGluZyBmb3I6ICR7dXJsfWApO1xyXG4gICAgICAgIGF3YWl0IHBhZ2UuZ290byh1cmwsIHsgd2FpdFVudGlsOiAnZG9tY29udGVudGxvYWRlZCcsIHRpbWVvdXQ6IDMwMDAwIH0pO1xyXG5cclxuICAgICAgICAvLyBFeHRyYWN0IERlc2NyaXB0aW9uXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JzID0gW1xyXG4gICAgICAgICAgICAgICAgJ1tkYXRhLXRlc3RpZD1cInByb3BlcnR5LXNlY3Rpb24tZGVzY3JpcHRpb24tY29udGVudFwiXScsXHJcbiAgICAgICAgICAgICAgICAnI3Byb3BlcnR5X2Rlc2NyaXB0aW9uX2NvbnRlbnQnLFxyXG4gICAgICAgICAgICAgICAgJy5ob3RlbF9kZXNjcmlwdGlvbl93cmFwcGVyX2V4cCcsXHJcbiAgICAgICAgICAgICAgICAnLmhwX2Rlc2NfbWFpbl9jb250ZW50J1xyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBzZWwgb2Ygc2VsZWN0b3JzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsKTtcclxuICAgICAgICAgICAgICAgIGlmIChlbCAmJiBlbC50ZXh0Q29udGVudCAmJiBlbC50ZXh0Q29udGVudC5sZW5ndGggPiA1MCkgcmV0dXJuIGVsLnRleHRDb250ZW50LnRyaW0oKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgcGFyYWdyYXBocyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3AnKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwIG9mIEFycmF5LmZyb20ocGFyYWdyYXBocykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwLnRleHRDb250ZW50ICYmIHAudGV4dENvbnRlbnQubGVuZ3RoID4gMTAwKSByZXR1cm4gcC50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBBbWVuaXRpZXNcclxuICAgICAgICBjb25zdCBhbWVuaXRpZXMgPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gW107XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb3B1bGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdGVzdGlkPVwicHJvcGVydHktbW9zdC1wb3B1bGFyLWZhY2lsaXRpZXMtd3JhcHBlclwiXSBsaSwgLmJ1aS1saXN0X19pdGVtLCAuaG90ZWwtZmFjaWxpdGllc19fbGlzdCBsaScpO1xyXG4gICAgICAgICAgICBpdGVtcyA9IEFycmF5LmZyb20ocG9wdWxhcikubWFwKGVsID0+IGVsLnRleHRDb250ZW50Py50cmltKCkgfHwgJycpLmZpbHRlcih0ID0+IHQubGVuZ3RoID4gMik7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmFjaWxpdGllc1RleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmFjaWxpdGllc0NoZWNrbGlzdCcpPy50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgIGlmIChmYWNpbGl0aWVzVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gZmFjaWxpdGllc1RleHQuc3BsaXQoJ1xcbicpLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIocyA9PiBzLmxlbmd0aCA+IDMgJiYgcy5sZW5ndGggPCAzMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcy5zbGljZSgwLCAxMik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEV4dHJhY3QgUm9vbSBUeXBlc1xyXG4gICAgICAgIGNvbnN0IHJvb21zID0gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvb21Sb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2hwcnQtdGFibGUgdGJvZHkgdHIsIFtkYXRhLXRlc3RpZD1cInJvb20tdGFibGVcIl0gdHInKTtcclxuICAgICAgICAgICAgY29uc3Qgcm9vbU5hbWVzID0gbmV3IFNldCgpO1xyXG5cclxuICAgICAgICAgICAgcm9vbVJvd3MuZm9yRWFjaChyb3cgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZUVsID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5ocHJ0LXJvb210eXBlLWxpbmssIFtkYXRhLXRlc3RpZD1cInJvb20tbmFtZVwiXScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWVFbCAmJiBuYW1lRWwudGV4dENvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbmFtZUVsLnRleHRDb250ZW50LnRyaW0oKS5zcGxpdCgnXFxuJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUubGVuZ3RoID4gMykgcm9vbU5hbWVzLmFkZChuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShyb29tTmFtZXMpLnNsaWNlKDAsIDUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFeHRyYWN0IEhvdXNlIFJ1bGVzXHJcbiAgICAgICAgY29uc3QgaG91c2VSdWxlcyA9IGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja0luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NoZWNraW5fcG9saWN5LCBbZGF0YS10ZXN0aWQ9XCJjaGVja2luLXBvbGljeVwiXScpPy50ZXh0Q29udGVudD8ucmVwbGFjZSgnQ2hlY2staW4nLCAnJykudHJpbSgpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGVja091dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGVja291dF9wb2xpY3ksIFtkYXRhLXRlc3RpZD1cImNoZWNrb3V0LXBvbGljeVwiXScpPy50ZXh0Q29udGVudD8ucmVwbGFjZSgnQ2hlY2stb3V0JywgJycpLnRyaW0oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY2hlY2tJbiwgY2hlY2tPdXQgfTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBJbWFnZXNcclxuICAgICAgICBjb25zdCBpbWFnZXMgPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdW5pcXVlSW1hZ2VzID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICBjb25zdCB2YWxpZEltYWdlcyA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBpbWdzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJoLXBob3RvLWdyaWQtaXRlbSBpbWcsIC5nYWxsZXJ5LXNpZGUtcmV2aWV3cy13cmFwcGVyIGltZywgW2RhdGEtdGVzdGlkPVwiZ2FsbGVyeS1pbWFnZVwiXSwgI2hvdGVsX21haW5fY29udGVudCBpbWcnKTtcclxuXHJcbiAgICAgICAgICAgIEFycmF5LmZyb20oaW1ncykuZm9yRWFjaCgoaW1nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSBpbWcuc3JjO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNyYyAmJiAhc3JjLmluY2x1ZGVzKCdwaXhlbCcpICYmICF1bmlxdWVJbWFnZXMuaGFzKHNyYykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWdoUmVzID0gc3JjLnJlcGxhY2UoL1xcL21heFxcZCtcXC8vLCAnL21heDEyODB4OTAwLycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdW5pcXVlSW1hZ2VzLmhhcyhoaWdoUmVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVJbWFnZXMuYWRkKGhpZ2hSZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZEltYWdlcy5wdXNoKGhpZ2hSZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWxpZEltYWdlcy5zbGljZSgwLCA4KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVHJ1dGggTGVucyBMb2dpY1xyXG4gICAgICAgIGNvbnN0IHRydXRoTGVucyA9IHtcclxuICAgICAgICAgICAgcHJvczogW10sXHJcbiAgICAgICAgICAgIGNvbnM6IFtdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgbG93ZXJEZXNjID0gZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCBsb3dlck5hbWUgPSAoYXdhaXQgcGFnZS50aXRsZSgpKS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICAvLyBQcm9zIGFuYWx5c2lzXHJcbiAgICAgICAgaWYgKGFtZW5pdGllcy5zb21lKGEgPT4gYS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdwb29sJykpIHx8IGxvd2VyRGVzYy5pbmNsdWRlcygncG9vbCcpKSB0cnV0aExlbnMucHJvcy5wdXNoKCdBcXVhdGljIENlbnRlciBWZXJpZmllZCcpO1xyXG4gICAgICAgIGlmIChhbWVuaXRpZXMuc29tZShhID0+IGEudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnd2lmaScpKSAmJiAhbG93ZXJEZXNjLmluY2x1ZGVzKCdwYWlkIHdpZmknKSkgdHJ1dGhMZW5zLnByb3MucHVzaCgnUmVtb3RlIFdvcmsgUmVhZHknKTtcclxuICAgICAgICBpZiAobG93ZXJEZXNjLmluY2x1ZGVzKCdoZWFydCBvZicpIHx8IGxvd2VyRGVzYy5pbmNsdWRlcygnY2VudGVyJykgfHwgbG93ZXJEZXNjLmluY2x1ZGVzKCd3YWxraW5nIGRpc3RhbmNlJykpIHRydXRoTGVucy5wcm9zLnB1c2goJ1ByaW1lIExvY2F0aW9uJyk7XHJcbiAgICAgICAgaWYgKGFtZW5pdGllcy5zb21lKGEgPT4gYS5pbmNsdWRlcygnQnJlYWtmYXN0JykpKSB0cnV0aExlbnMucHJvcy5wdXNoKCdCcmVha2Zhc3QgSW5jbHVkZWQnKTtcclxuXHJcbiAgICAgICAgLy8gQ29ucyBhbmFseXNpc1xyXG4gICAgICAgIGlmIChsb3dlckRlc2MuaW5jbHVkZXMoJ2xpdmVseSBhcmVhJykgfHwgbG93ZXJEZXNjLmluY2x1ZGVzKCduaWdodGxpZmUnKSB8fCBsb3dlckRlc2MuaW5jbHVkZXMoJ2JhcicpKSB0cnV0aExlbnMuY29ucy5wdXNoKCdQb3RlbnRpYWwgTm9pc2UgUmlzaycpO1xyXG4gICAgICAgIGlmICghYW1lbml0aWVzLnNvbWUoYSA9PiBhLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2VsZXZhdG9yJykpICYmICFhbWVuaXRpZXMuc29tZShhID0+IGEudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbGlmdCcpKSAmJiBsb3dlckRlc2MuaW5jbHVkZXMoJ2Zsb29yJykpIHRydXRoTGVucy5jb25zLnB1c2goJ1N0YWlycyBPbmx5IFdhcm5pbmcnKTtcclxuICAgICAgICBpZiAobG93ZXJEZXNjLmluY2x1ZGVzKCdjb21wYWN0JykgfHwgbG93ZXJEZXNjLmluY2x1ZGVzKCdjb3N5JykgfHwgbG93ZXJEZXNjLmluY2x1ZGVzKCdzbWFsbCByb29tJykpIHRydXRoTGVucy5jb25zLnB1c2goJ1NtYWxsIFJvb20gU2l6ZScpO1xyXG4gICAgICAgIGlmIChsb3dlckRlc2MuaW5jbHVkZXMoJ3NoYXJlZCBiYXRocm9vbScpKSB0cnV0aExlbnMuY29ucy5wdXNoKCdTaGFyZWQgQmF0aHJvb20nKTtcclxuXHJcbiAgICAgICAgaWYgKHRydXRoTGVucy5wcm9zLmxlbmd0aCA9PT0gMCkgdHJ1dGhMZW5zLnByb3MucHVzaCgnU3RhbmRhcmQgQW1lbml0aWVzJyk7XHJcbiAgICAgICAgaWYgKHRydXRoTGVucy5jb25zLmxlbmd0aCA9PT0gMCkgdHJ1dGhMZW5zLmNvbnMucHVzaCgnTm8gUmVkIEZsYWdzIERldGVjdGVkJyk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGRlc2NyaXB0aW9uLCBhbWVuaXRpZXMsIGltYWdlcywgcm9vbXMsIGhvdXNlUnVsZXMsIHRydXRoTGVucyB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNjcmFwaW5nIGhvdGVsIGRldGFpbHM6XCIsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgaWYgKGJyb3dzZXIpIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7IHNlYXJjaEhvdGVscywgc2NyYXBlSG90ZWxEZXRhaWxzIH07Il0sIm5hbWVzIjpbInB1cHBldGVlciIsInJlcXVpcmUiLCJnZXRQdXBwZXRlZXJDb25maWciLCJpc1JlbmRlciIsInByb2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiaGVhZGxlc3MiLCJhcmdzIiwiZXhlY3V0YWJsZVBhdGgiLCJzZWFyY2hIb3RlbHMiLCJsb2NhdGlvbiIsImNoZWNrSW4iLCJjaGVja091dCIsImd1ZXN0cyIsIm9mZnNldCIsImJyb3dzZXIiLCJwdXBwZXRlZXJDb25maWciLCJsYXVuY2giLCJwYWdlIiwibmV3UGFnZSIsInNldFVzZXJBZ2VudCIsInNldEV4dHJhSFRUUEhlYWRlcnMiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJhZHVsdHMiLCJjaGlsZHJlbiIsInJvb21zIiwiZ290byIsIndhaXRVbnRpbCIsInRpbWVvdXQiLCJjdXJyZW50VXJsIiwic2VsZWN0b3JzIiwiY2FyZHNGb3VuZCIsInNlbGVjdG9yIiwid2FpdEZvclNlbGVjdG9yIiwiZSIsImhvdGVscyIsImV2YWx1YXRlIiwiY2FyZHMiLCJBcnJheSIsImZyb20iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYXAiLCJjYXJkIiwidGl0bGVFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInByaWNlRWxlbWVudCIsInJhdGluZ0VsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJsaW5rRWxlbWVudCIsImFkZHJlc3NFbGVtZW50IiwicmF0aW5nIiwidGV4dENvbnRlbnQiLCJ0cmltIiwibWF0Y2giLCJpbWFnZVVybCIsImdldEF0dHJpYnV0ZSIsInNyY3NldCIsInNvdXJjZXMiLCJzcGxpdCIsInMiLCJsZW5ndGgiLCJyZXBsYWNlIiwidmliZXMiLCJuYW1lTG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicHVzaCIsIm5hbWUiLCJwcmljZSIsImltYWdlIiwidW5kZWZpbmVkIiwicmV2aWV3cyIsImxpbmsiLCJjaXR5IiwiZXJyb3IiLCJtZXNzYWdlIiwiY2xvc2UiLCJzY3JhcGVIb3RlbERldGFpbHMiLCJzZXRWaWV3cG9ydCIsIndpZHRoIiwiaGVpZ2h0IiwiZGVzY3JpcHRpb24iLCJzZWwiLCJlbCIsInBhcmFncmFwaHMiLCJwIiwiYW1lbml0aWVzIiwiaXRlbXMiLCJwb3B1bGFyIiwiZmlsdGVyIiwidCIsImZhY2lsaXRpZXNUZXh0Iiwic2xpY2UiLCJyb29tUm93cyIsInJvb21OYW1lcyIsIlNldCIsImZvckVhY2giLCJyb3ciLCJuYW1lRWwiLCJhZGQiLCJob3VzZVJ1bGVzIiwiaW1hZ2VzIiwidW5pcXVlSW1hZ2VzIiwidmFsaWRJbWFnZXMiLCJpbWdzIiwiaW1nIiwic3JjIiwiaGFzIiwiaGlnaFJlcyIsInRydXRoTGVucyIsInByb3MiLCJjb25zIiwibG93ZXJEZXNjIiwibG93ZXJOYW1lIiwidGl0bGUiLCJzb21lIiwiYSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/hotelScraper.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhotels%2Fsearch%2Froute&page=%2Fapi%2Fhotels%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhotels%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();