/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/hotels/search/route";
exports.ids = ["app/api/hotels/search/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("puppeteer");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhotels%2Fsearch%2Froute&page=%2Fapi%2Fhotels%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhotels%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhotels%2Fsearch%2Froute&page=%2Fapi%2Fhotels%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhotels%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_HomePC_Documents_itravelshub_triprex_files_LRT_Version_src_app_api_hotels_search_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/hotels/search/route.js */ \"(rsc)/./src/app/api/hotels/search/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/hotels/search/route\",\n        pathname: \"/api/hotels/search\",\n        filename: \"route\",\n        bundlePath: \"app/api/hotels/search/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\HomePC\\\\Documents\\\\itravelshub\\\\triprex-files\\\\LRT-Version\\\\src\\\\app\\\\api\\\\hotels\\\\search\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_HomePC_Documents_itravelshub_triprex_files_LRT_Version_src_app_api_hotels_search_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/hotels/search/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZob3RlbHMlMkZzZWFyY2glMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmhvdGVscyUyRnNlYXJjaCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmhvdGVscyUyRnNlYXJjaCUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNIb21lUEMlNUNEb2N1bWVudHMlNUNpdHJhdmVsc2h1YiU1Q3RyaXByZXgtZmlsZXMlNUNMUlQtVmVyc2lvbiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDSG9tZVBDJTVDRG9jdW1lbnRzJTVDaXRyYXZlbHNodWIlNUN0cmlwcmV4LWZpbGVzJTVDTFJULVZlcnNpb24maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDOEQ7QUFDM0k7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwcmV4LW5leHRqcy8/YTBhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxIb21lUENcXFxcRG9jdW1lbnRzXFxcXGl0cmF2ZWxzaHViXFxcXHRyaXByZXgtZmlsZXNcXFxcTFJULVZlcnNpb25cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcaG90ZWxzXFxcXHNlYXJjaFxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvaG90ZWxzL3NlYXJjaC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2hvdGVscy9zZWFyY2hcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2hvdGVscy9zZWFyY2gvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxIb21lUENcXFxcRG9jdW1lbnRzXFxcXGl0cmF2ZWxzaHViXFxcXHRyaXByZXgtZmlsZXNcXFxcTFJULVZlcnNpb25cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcaG90ZWxzXFxcXHNlYXJjaFxcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9ob3RlbHMvc2VhcmNoL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhotels%2Fsearch%2Froute&page=%2Fapi%2Fhotels%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhotels%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/hotels/search/route.js":
/*!********************************************!*\
  !*** ./src/app/api/hotels/search/route.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\nconst { searchHotels } = __webpack_require__(/*! @/lib/hotelScraper */ \"(rsc)/./src/lib/hotelScraper.js\");\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { location, checkIn, checkOut, guests, offset = 0 } = body;\n        // Basic validation\n        if (!location || !checkIn || !checkOut || !guests || typeof guests !== \"object\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing required fields\"\n            }, {\n                status: 400\n            });\n        }\n        const hotels = await searchHotels(location, checkIn, checkOut, guests, offset);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(hotels);\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ob3RlbHMvc2VhcmNoL3JvdXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJDO0FBQzNDLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUdDLG1CQUFPQSxDQUFDO0FBRTFCLGVBQWVDLEtBQUtDLE9BQU87SUFDOUIsSUFBSTtRQUNBLE1BQU1DLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtRQUMvQixNQUFNLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsU0FBUyxDQUFDLEVBQUUsR0FBR047UUFFNUQsbUJBQW1CO1FBQ25CLElBQUksQ0FBQ0UsWUFBWSxDQUFDQyxXQUFXLENBQUNDLFlBQVksQ0FBQ0MsVUFBVSxPQUFPQSxXQUFXLFVBQVU7WUFDN0UsT0FBT1Ysa0ZBQVlBLENBQUNNLElBQUksQ0FBQztnQkFBRU0sT0FBTztZQUEwQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDakY7UUFFQSxNQUFNQyxTQUFTLE1BQU1iLGFBQWFNLFVBQVVDLFNBQVNDLFVBQVVDLFFBQVFDO1FBRXZFLE9BQU9YLGtGQUFZQSxDQUFDTSxJQUFJLENBQUNRO0lBQzdCLEVBQUUsT0FBT0YsT0FBTztRQUNaRyxRQUFRSCxLQUFLLENBQUMsY0FBY0E7UUFDNUIsT0FBT1osa0ZBQVlBLENBQUNNLElBQUksQ0FBQztZQUFFTSxPQUFPO1FBQXdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQy9FO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwcmV4LW5leHRqcy8uL3NyYy9hcHAvYXBpL2hvdGVscy9zZWFyY2gvcm91dGUuanM/Y2FiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmNvbnN0IHsgc2VhcmNoSG90ZWxzIH0gPSByZXF1aXJlKCdAL2xpYi9ob3RlbFNjcmFwZXInKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgICAgIGNvbnN0IHsgbG9jYXRpb24sIGNoZWNrSW4sIGNoZWNrT3V0LCBndWVzdHMsIG9mZnNldCA9IDAgfSA9IGJvZHk7XHJcblxyXG4gICAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxvY2F0aW9uIHx8ICFjaGVja0luIHx8ICFjaGVja091dCB8fCAhZ3Vlc3RzIHx8IHR5cGVvZiBndWVzdHMgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBob3RlbHMgPSBhd2FpdCBzZWFyY2hIb3RlbHMobG9jYXRpb24sIGNoZWNrSW4sIGNoZWNrT3V0LCBndWVzdHMsIG9mZnNldCk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihob3RlbHMpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzZWFyY2hIb3RlbHMiLCJyZXF1aXJlIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsImxvY2F0aW9uIiwiY2hlY2tJbiIsImNoZWNrT3V0IiwiZ3Vlc3RzIiwib2Zmc2V0IiwiZXJyb3IiLCJzdGF0dXMiLCJob3RlbHMiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/hotels/search/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/hotelScraper.js":
/*!*********************************!*\
  !*** ./src/lib/hotelScraper.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const puppeteer = __webpack_require__(/*! puppeteer */ \"puppeteer\");\n/**\r\n * @typedef {Object} GuestConfig\r\n * @property {number} adults\r\n * @property {number} children\r\n * @property {number} rooms\r\n */ /**\r\n * @typedef {Object} Hotel\r\n * @property {string} name\r\n * @property {string} price\r\n * @property {string} rating\r\n * @property {string} [image]\r\n * @property {string} [reviews]\r\n * @property {string} [link]\r\n * @property {string[]} [vibes]\r\n * @property {string} [city]\r\n */ // Get Puppeteer config based on environment\nfunction getPuppeteerConfig() {\n    const isRender = \"development\" === \"production\";\n    if (isRender) {\n        // Render/Docker environment\n        console.log(\"\\uD83D\\uDE80 Running on Render - using system Chrome\");\n        return {\n            headless: \"new\",\n            args: [\n                \"--no-sandbox\",\n                \"--disable-setuid-sandbox\",\n                \"--disable-dev-shm-usage\",\n                \"--disable-gpu\",\n                \"--single-process\",\n                \"--no-zygote\"\n            ],\n            executablePath: \"/usr/bin/google-chrome-stable\"\n        };\n    } else {\n        // Local development\n        console.log(\"\\uD83D\\uDCBB Running locally - using default Chrome\");\n        return {\n            headless: \"new\",\n            args: [\n                \"--no-sandbox\",\n                \"--disable-setuid-sandbox\"\n            ]\n        };\n    }\n}\n/**\r\n * Search for hotels using Puppeteer to scrape Booking.com\r\n * @param {string} location - Destination city or location\r\n * @param {string} checkIn - Check-in date (yyyy-MM-dd format)\r\n * @param {string} checkOut - Check-out date (yyyy-MM-dd format)\r\n * @param {GuestConfig} guests - Guest configuration\r\n * @param {number} [offset=0] - Pagination offset\r\n * @returns {Promise<Hotel[]>}\r\n */ async function searchHotels(location, checkIn, checkOut, guests, offset = 0) {\n    let browser;\n    try {\n        // Use environment-specific config\n        const puppeteerConfig = getPuppeteerConfig();\n        browser = await puppeteer.launch(puppeteerConfig);\n        const page = await browser.newPage();\n        await page.setUserAgent(\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\");\n        const url = `https://www.booking.com/searchresults.html?ss=${encodeURIComponent(location)}&checkin=${checkIn}&checkout=${checkOut}&group_adults=${guests.adults}&group_children=${guests.children}&no_rooms=${guests.rooms}&selected_currency=USD&lang=en-us&offset=${offset}`;\n        console.log(`Navigating to: ${url}`);\n        await page.goto(url, {\n            waitUntil: \"networkidle2\",\n            timeout: 60000\n        });\n        try {\n            await page.waitForSelector('[data-testid=\"property-card\"]', {\n                timeout: 15000\n            });\n        } catch (e) {\n            console.log(\"Timeout waiting for selector, checking simple page load...\");\n        }\n        const hotels = await page.evaluate(()=>{\n            const cards = Array.from(document.querySelectorAll('[data-testid=\"property-card\"]'));\n            return cards.map((card)=>{\n                const titleElement = card.querySelector('[data-testid=\"title\"]');\n                const priceElement = card.querySelector('[data-testid=\"price-and-discounted-price\"]');\n                const ratingElement = card.querySelector('[data-testid=\"review-score\"]');\n                const imageElement = card.querySelector('[data-testid=\"image\"]');\n                const linkElement = card.querySelector('a[data-testid=\"title-link\"]') || card.querySelector(\"a\");\n                const addressElement = card.querySelector('[data-testid=\"address\"]');\n                let rating = \"N/A\";\n                if (ratingElement) {\n                    rating = ratingElement.textContent?.trim() || \"N/A\";\n                    const match = rating.match(/\\d+(\\.\\d+)?/);\n                    if (match) rating = match[0];\n                }\n                let imageUrl = imageElement?.getAttribute(\"src\");\n                if (!imageUrl) {\n                    // Try finding in srcset\n                    const srcset = imageElement?.getAttribute(\"srcset\");\n                    if (srcset) {\n                        const sources = srcset.split(\",\").map((s)=>s.trim().split(\" \"));\n                        // Get largest image\n                        if (sources.length > 0) imageUrl = sources[sources.length - 1][0];\n                    }\n                }\n                if (imageUrl) {\n                    // Try to get a larger version if it's a small one\n                    imageUrl = imageUrl.replace(/max\\d+/, \"max1024x768\");\n                    imageUrl = imageUrl.replace(/square\\d+/, \"max1024x768\");\n                }\n                // AI Vibe Heuristics\n                const vibes = [];\n                const nameLower = (titleElement?.textContent || \"\").toLowerCase();\n                if (nameLower.includes(\"resort\") || nameLower.includes(\"spa\") || nameLower.includes(\"beach\")) vibes.push(\"Relaxation\");\n                if (nameLower.includes(\"hostel\") || nameLower.includes(\"backpackers\")) vibes.push(\"Social\");\n                if (nameLower.includes(\"business\") || nameLower.includes(\"suite\") || nameLower.includes(\"airport\")) vibes.push(\"Work\");\n                if (nameLower.includes(\"boutique\") || nameLower.includes(\"villa\") || nameLower.includes(\"design\")) vibes.push(\"Romantic\");\n                if (nameLower.includes(\"apartment\") || nameLower.includes(\"home\")) vibes.push(\"Family\");\n                // Fallback vibe if none found\n                if (vibes.length === 0) vibes.push(\"Hidden Gem\");\n                return {\n                    name: titleElement?.textContent?.trim() || \"Unknown Hotel\",\n                    price: priceElement?.textContent?.trim() || \"Contact for Price\",\n                    rating: rating,\n                    image: imageUrl || undefined,\n                    reviews: \"Verified Reviews\",\n                    link: linkElement?.getAttribute(\"href\") || undefined,\n                    vibes: vibes,\n                    city: addressElement?.textContent?.trim() || undefined\n                };\n            });\n        });\n        console.log(`Found ${hotels.length} hotels.`);\n        return hotels;\n    } catch (error) {\n        console.error(\"Scraping failed:\", error);\n        return [];\n    } finally{\n        if (browser) await browser.close();\n    }\n}\n/**\r\n * @typedef {Object} HotelDetails\r\n * @property {string} description\r\n * @property {string[]} amenities\r\n * @property {string[]} images\r\n * @property {string[]} [rooms]\r\n * @property {Object} [houseRules]\r\n * @property {string} [houseRules.checkIn]\r\n * @property {string} [houseRules.checkOut]\r\n * @property {Object} [truthLens]\r\n * @property {string[]} truthLens.pros\r\n * @property {string[]} truthLens.cons\r\n */ /**\r\n * Scrape detailed hotel information\r\n * @param {string} url - Hotel detail page URL\r\n * @returns {Promise<HotelDetails|null>}\r\n */ async function scrapeHotelDetails(url) {\n    let browser;\n    try {\n        // Use environment-specific config\n        const puppeteerConfig = getPuppeteerConfig();\n        browser = await puppeteer.launch(puppeteerConfig);\n        const page = await browser.newPage();\n        await page.setViewport({\n            width: 1920,\n            height: 1080\n        });\n        await page.setUserAgent(\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\");\n        console.log(`Details scraping for: ${url}`);\n        await page.goto(url, {\n            waitUntil: \"domcontentloaded\",\n            timeout: 30000\n        });\n        // Extract Description\n        const description = await page.evaluate(()=>{\n            const selectors = [\n                '[data-testid=\"property-section-description-content\"]',\n                \"#property_description_content\",\n                \".hotel_description_wrapper_exp\",\n                \".hp_desc_main_content\"\n            ];\n            for (const sel of selectors){\n                const el = document.querySelector(sel);\n                if (el && el.textContent && el.textContent.length > 50) return el.textContent.trim();\n            }\n            const paragraphs = document.querySelectorAll(\"p\");\n            for (const p of Array.from(paragraphs)){\n                if (p.textContent && p.textContent.length > 100) return p.textContent.trim();\n            }\n            return \"\";\n        });\n        // Extract Amenities\n        const amenities = await page.evaluate(()=>{\n            let items = [];\n            const popular = document.querySelectorAll('[data-testid=\"property-most-popular-facilities-wrapper\"] li, .bui-list__item, .hotel-facilities__list li');\n            items = Array.from(popular).map((el)=>el.textContent?.trim() || \"\").filter((t)=>t.length > 2);\n            if (items.length < 3) {\n                const facilitiesText = document.querySelector(\".facilitiesChecklist\")?.textContent;\n                if (facilitiesText) {\n                    items = facilitiesText.split(\"\\n\").map((s)=>s.trim()).filter((s)=>s.length > 3 && s.length < 30);\n                }\n            }\n            return items.slice(0, 12);\n        });\n        // Extract Room Types\n        const rooms = await page.evaluate(()=>{\n            const roomRows = document.querySelectorAll('#hprt-table tbody tr, [data-testid=\"room-table\"] tr');\n            const roomNames = new Set();\n            roomRows.forEach((row)=>{\n                const nameEl = row.querySelector('.hprt-roomtype-link, [data-testid=\"room-name\"]');\n                if (nameEl && nameEl.textContent) {\n                    const name = nameEl.textContent.trim().split(\"\\n\")[0];\n                    if (name.length > 3) roomNames.add(name);\n                }\n            });\n            return Array.from(roomNames).slice(0, 5);\n        });\n        // Extract House Rules\n        const houseRules = await page.evaluate(()=>{\n            const checkIn = document.querySelector('#checkin_policy, [data-testid=\"checkin-policy\"]')?.textContent?.replace(\"Check-in\", \"\").trim();\n            const checkOut = document.querySelector('#checkout_policy, [data-testid=\"checkout-policy\"]')?.textContent?.replace(\"Check-out\", \"\").trim();\n            return {\n                checkIn,\n                checkOut\n            };\n        });\n        // Extract Images\n        const images = await page.evaluate(()=>{\n            const uniqueImages = new Set();\n            const validImages = [];\n            const imgs = document.querySelectorAll('.bh-photo-grid-item img, .gallery-side-reviews-wrapper img, [data-testid=\"gallery-image\"], #hotel_main_content img');\n            Array.from(imgs).forEach((img)=>{\n                const src = img.src;\n                if (src && !src.includes(\"pixel\") && !uniqueImages.has(src)) {\n                    const highRes = src.replace(/\\/max\\d+\\//, \"/max1280x900/\");\n                    if (!uniqueImages.has(highRes)) {\n                        uniqueImages.add(highRes);\n                        validImages.push(highRes);\n                    }\n                }\n            });\n            return validImages.slice(0, 8);\n        });\n        // Truth Lens Logic\n        const truthLens = {\n            pros: [],\n            cons: []\n        };\n        const lowerDesc = description.toLowerCase();\n        const lowerName = (await page.title()).toLowerCase();\n        // Pros analysis\n        if (amenities.some((a)=>a.toLowerCase().includes(\"pool\")) || lowerDesc.includes(\"pool\")) truthLens.pros.push(\"Aquatic Center Verified\");\n        if (amenities.some((a)=>a.toLowerCase().includes(\"wifi\")) && !lowerDesc.includes(\"paid wifi\")) truthLens.pros.push(\"Remote Work Ready\");\n        if (lowerDesc.includes(\"heart of\") || lowerDesc.includes(\"center\") || lowerDesc.includes(\"walking distance\")) truthLens.pros.push(\"Prime Location\");\n        if (amenities.some((a)=>a.includes(\"Breakfast\"))) truthLens.pros.push(\"Breakfast Included\");\n        // Cons analysis\n        if (lowerDesc.includes(\"lively area\") || lowerDesc.includes(\"nightlife\") || lowerDesc.includes(\"bar\")) truthLens.cons.push(\"Potential Noise Risk\");\n        if (!amenities.some((a)=>a.toLowerCase().includes(\"elevator\")) && !amenities.some((a)=>a.toLowerCase().includes(\"lift\")) && lowerDesc.includes(\"floor\")) truthLens.cons.push(\"Stairs Only Warning\");\n        if (lowerDesc.includes(\"compact\") || lowerDesc.includes(\"cosy\") || lowerDesc.includes(\"small room\")) truthLens.cons.push(\"Small Room Size\");\n        if (lowerDesc.includes(\"shared bathroom\")) truthLens.cons.push(\"Shared Bathroom\");\n        if (truthLens.pros.length === 0) truthLens.pros.push(\"Standard Amenities\");\n        if (truthLens.cons.length === 0) truthLens.cons.push(\"No Red Flags Detected\");\n        return {\n            description,\n            amenities,\n            images,\n            rooms,\n            houseRules,\n            truthLens\n        };\n    } catch (error) {\n        console.error(\"Error scraping hotel details:\", error);\n        return null;\n    } finally{\n        if (browser) await browser.close();\n    }\n}\nmodule.exports = {\n    searchHotels,\n    scrapeHotelDetails\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUUsSUFBSSxDQUFDN0MsSUFBSSxDQUFDO1FBQzNILElBQUksQ0FBQ29CLFVBQVU2QixJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVwRCxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQ3FCLFVBQVU2QixJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVwRCxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxZQUFZK0MsVUFBVS9DLFFBQVEsQ0FBQyxVQUFVNEMsVUFBVUUsSUFBSSxDQUFDN0MsSUFBSSxDQUFDO1FBQzdLLElBQUk4QyxVQUFVL0MsUUFBUSxDQUFDLGNBQWMrQyxVQUFVL0MsUUFBUSxDQUFDLFdBQVcrQyxVQUFVL0MsUUFBUSxDQUFDLGVBQWU0QyxVQUFVRSxJQUFJLENBQUM3QyxJQUFJLENBQUM7UUFDekgsSUFBSThDLFVBQVUvQyxRQUFRLENBQUMsb0JBQW9CNEMsVUFBVUUsSUFBSSxDQUFDN0MsSUFBSSxDQUFDO1FBRS9ELElBQUkyQyxVQUFVQyxJQUFJLENBQUNsRCxNQUFNLEtBQUssR0FBR2lELFVBQVVDLElBQUksQ0FBQzVDLElBQUksQ0FBQztRQUNyRCxJQUFJMkMsVUFBVUUsSUFBSSxDQUFDbkQsTUFBTSxLQUFLLEdBQUdpRCxVQUFVRSxJQUFJLENBQUM3QyxJQUFJLENBQUM7UUFFckQsT0FBTztZQUFFYztZQUFhTTtZQUFXZTtZQUFRekU7WUFBT3dFO1lBQVlTO1FBQVU7SUFFMUUsRUFBRSxPQUFPbkMsT0FBTztRQUNabkUsUUFBUW1FLEtBQUssQ0FBQyxpQ0FBaUNBO1FBQy9DLE9BQU87SUFDWCxTQUFVO1FBQ04sSUFBSXhELFNBQVMsTUFBTUEsUUFBUXlELEtBQUs7SUFDcEM7QUFDSjtBQUVBMEMsT0FBT0MsT0FBTyxHQUFHO0lBQUUxRztJQUFjZ0U7QUFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwcmV4LW5leHRqcy8uL3NyYy9saWIvaG90ZWxTY3JhcGVyLmpzP2UwNGUiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgncHVwcGV0ZWVyJyk7XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gR3Vlc3RDb25maWdcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFkdWx0c1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0gY2hpbGRyZW5cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJvb21zXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEhvdGVsXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBwcmljZVxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcmF0aW5nXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaW1hZ2VdXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcmV2aWV3c11cclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtsaW5rXVxyXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBbdmliZXNdXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY2l0eV1cclxuICovXHJcblxyXG4vLyBHZXQgUHVwcGV0ZWVyIGNvbmZpZyBiYXNlZCBvbiBlbnZpcm9ubWVudFxyXG5mdW5jdGlvbiBnZXRQdXBwZXRlZXJDb25maWcoKSB7XHJcbiAgY29uc3QgaXNSZW5kZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xyXG4gIFxyXG4gIGlmIChpc1JlbmRlcikge1xyXG4gICAgLy8gUmVuZGVyL0RvY2tlciBlbnZpcm9ubWVudFxyXG4gICAgY29uc29sZS5sb2coJ/CfmoAgUnVubmluZyBvbiBSZW5kZXIgLSB1c2luZyBzeXN0ZW0gQ2hyb21lJyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoZWFkbGVzczogJ25ldycsXHJcbiAgICAgIGFyZ3M6IFtcclxuICAgICAgICAnLS1uby1zYW5kYm94JyxcclxuICAgICAgICAnLS1kaXNhYmxlLXNldHVpZC1zYW5kYm94JyxcclxuICAgICAgICAnLS1kaXNhYmxlLWRldi1zaG0tdXNhZ2UnLFxyXG4gICAgICAgICctLWRpc2FibGUtZ3B1JyxcclxuICAgICAgICAnLS1zaW5nbGUtcHJvY2VzcycsXHJcbiAgICAgICAgJy0tbm8tenlnb3RlJ1xyXG4gICAgICBdLFxyXG4gICAgICBleGVjdXRhYmxlUGF0aDogJy91c3IvYmluL2dvb2dsZS1jaHJvbWUtc3RhYmxlJ1xyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gTG9jYWwgZGV2ZWxvcG1lbnRcclxuICAgIGNvbnNvbGUubG9nKCfwn5K7IFJ1bm5pbmcgbG9jYWxseSAtIHVzaW5nIGRlZmF1bHQgQ2hyb21lJyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBoZWFkbGVzczogJ25ldycsXHJcbiAgICAgIGFyZ3M6IFsnLS1uby1zYW5kYm94JywgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCddXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFNlYXJjaCBmb3IgaG90ZWxzIHVzaW5nIFB1cHBldGVlciB0byBzY3JhcGUgQm9va2luZy5jb21cclxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIC0gRGVzdGluYXRpb24gY2l0eSBvciBsb2NhdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hlY2tJbiAtIENoZWNrLWluIGRhdGUgKHl5eXktTU0tZGQgZm9ybWF0KVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hlY2tPdXQgLSBDaGVjay1vdXQgZGF0ZSAoeXl5eS1NTS1kZCBmb3JtYXQpXHJcbiAqIEBwYXJhbSB7R3Vlc3RDb25maWd9IGd1ZXN0cyAtIEd1ZXN0IGNvbmZpZ3VyYXRpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IFtvZmZzZXQ9MF0gLSBQYWdpbmF0aW9uIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxIb3RlbFtdPn1cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaEhvdGVscyhsb2NhdGlvbiwgY2hlY2tJbiwgY2hlY2tPdXQsIGd1ZXN0cywgb2Zmc2V0ID0gMCkge1xyXG4gICAgbGV0IGJyb3dzZXI7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFVzZSBlbnZpcm9ubWVudC1zcGVjaWZpYyBjb25maWdcclxuICAgICAgICBjb25zdCBwdXBwZXRlZXJDb25maWcgPSBnZXRQdXBwZXRlZXJDb25maWcoKTtcclxuICAgICAgICBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaChwdXBwZXRlZXJDb25maWcpO1xyXG5cclxuICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgYnJvd3Nlci5uZXdQYWdlKCk7XHJcbiAgICAgICAgYXdhaXQgcGFnZS5zZXRVc2VyQWdlbnQoJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNicpO1xyXG5cclxuICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly93d3cuYm9va2luZy5jb20vc2VhcmNocmVzdWx0cy5odG1sP3NzPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uKX0mY2hlY2tpbj0ke2NoZWNrSW59JmNoZWNrb3V0PSR7Y2hlY2tPdXR9Jmdyb3VwX2FkdWx0cz0ke2d1ZXN0cy5hZHVsdHN9Jmdyb3VwX2NoaWxkcmVuPSR7Z3Vlc3RzLmNoaWxkcmVufSZub19yb29tcz0ke2d1ZXN0cy5yb29tc30mc2VsZWN0ZWRfY3VycmVuY3k9VVNEJmxhbmc9ZW4tdXMmb2Zmc2V0PSR7b2Zmc2V0fWA7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBOYXZpZ2F0aW5nIHRvOiAke3VybH1gKTtcclxuICAgICAgICBhd2FpdCBwYWdlLmdvdG8odXJsLCB7IHdhaXRVbnRpbDogJ25ldHdvcmtpZGxlMicsIHRpbWVvdXQ6IDYwMDAwIH0pO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBwYWdlLndhaXRGb3JTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwicHJvcGVydHktY2FyZFwiXScsIHsgdGltZW91dDogMTUwMDAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVGltZW91dCB3YWl0aW5nIGZvciBzZWxlY3RvciwgY2hlY2tpbmcgc2ltcGxlIHBhZ2UgbG9hZC4uLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaG90ZWxzID0gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10ZXN0aWQ9XCJwcm9wZXJ0eS1jYXJkXCJdJykpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FyZHMubWFwKGNhcmQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9XCJ0aXRsZVwiXScpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJpY2VFbGVtZW50ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9XCJwcmljZS1hbmQtZGlzY291bnRlZC1wcmljZVwiXScpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmF0aW5nRWxlbWVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwicmV2aWV3LXNjb3JlXCJdJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlc3RpZD1cImltYWdlXCJdJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rRWxlbWVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignYVtkYXRhLXRlc3RpZD1cInRpdGxlLWxpbmtcIl0nKSB8fCBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NFbGVtZW50ID0gY2FyZC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9XCJhZGRyZXNzXCJdJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJhdGluZyA9ICdOL0EnO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhdGluZ0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByYXRpbmcgPSByYXRpbmdFbGVtZW50LnRleHRDb250ZW50Py50cmltKCkgfHwgJ04vQSc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSByYXRpbmcubWF0Y2goL1xcZCsoXFwuXFxkKyk/Lyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSByYXRpbmcgPSBtYXRjaFswXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgaW1hZ2VVcmwgPSBpbWFnZUVsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnc3JjJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWltYWdlVXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IGZpbmRpbmcgaW4gc3Jjc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3Jjc2V0ID0gaW1hZ2VFbGVtZW50Py5nZXRBdHRyaWJ1dGUoJ3NyY3NldCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcmNzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlcyA9IHNyY3NldC5zcGxpdCgnLCcpLm1hcChzID0+IHMudHJpbSgpLnNwbGl0KCcgJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgbGFyZ2VzdCBpbWFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlcy5sZW5ndGggPiAwKSBpbWFnZVVybCA9IHNvdXJjZXNbc291cmNlcy5sZW5ndGggLSAxXVswXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGltYWdlVXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGdldCBhIGxhcmdlciB2ZXJzaW9uIGlmIGl0J3MgYSBzbWFsbCBvbmVcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybCA9IGltYWdlVXJsLnJlcGxhY2UoL21heFxcZCsvLCAnbWF4MTAyNHg3NjgnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybCA9IGltYWdlVXJsLnJlcGxhY2UoL3NxdWFyZVxcZCsvLCAnbWF4MTAyNHg3NjgnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBSSBWaWJlIEhldXJpc3RpY3NcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZpYmVzID0gW107XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lTG93ZXIgPSAodGl0bGVFbGVtZW50Py50ZXh0Q29udGVudCB8fCAnJykudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZUxvd2VyLmluY2x1ZGVzKCdyZXNvcnQnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ3NwYScpIHx8IG5hbWVMb3dlci5pbmNsdWRlcygnYmVhY2gnKSkgdmliZXMucHVzaCgnUmVsYXhhdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWVMb3dlci5pbmNsdWRlcygnaG9zdGVsJykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdiYWNrcGFja2VycycpKSB2aWJlcy5wdXNoKCdTb2NpYWwnKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lTG93ZXIuaW5jbHVkZXMoJ2J1c2luZXNzJykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdzdWl0ZScpIHx8IG5hbWVMb3dlci5pbmNsdWRlcygnYWlycG9ydCcpKSB2aWJlcy5wdXNoKCdXb3JrJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZUxvd2VyLmluY2x1ZGVzKCdib3V0aXF1ZScpIHx8IG5hbWVMb3dlci5pbmNsdWRlcygndmlsbGEnKSB8fCBuYW1lTG93ZXIuaW5jbHVkZXMoJ2Rlc2lnbicpKSB2aWJlcy5wdXNoKCdSb21hbnRpYycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hbWVMb3dlci5pbmNsdWRlcygnYXBhcnRtZW50JykgfHwgbmFtZUxvd2VyLmluY2x1ZGVzKCdob21lJykpIHZpYmVzLnB1c2goJ0ZhbWlseScpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHZpYmUgaWYgbm9uZSBmb3VuZFxyXG4gICAgICAgICAgICAgICAgaWYgKHZpYmVzLmxlbmd0aCA9PT0gMCkgdmliZXMucHVzaCgnSGlkZGVuIEdlbScpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGl0bGVFbGVtZW50Py50ZXh0Q29udGVudD8udHJpbSgpIHx8ICdVbmtub3duIEhvdGVsJyxcclxuICAgICAgICAgICAgICAgICAgICBwcmljZTogcHJpY2VFbGVtZW50Py50ZXh0Q29udGVudD8udHJpbSgpIHx8ICdDb250YWN0IGZvciBQcmljZScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiByYXRpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlVXJsIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICByZXZpZXdzOiAnVmVyaWZpZWQgUmV2aWV3cycsXHJcbiAgICAgICAgICAgICAgICAgICAgbGluazogbGlua0VsZW1lbnQ/LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICB2aWJlczogdmliZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgY2l0eTogYWRkcmVzc0VsZW1lbnQ/LnRleHRDb250ZW50Py50cmltKCkgfHwgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7aG90ZWxzLmxlbmd0aH0gaG90ZWxzLmApO1xyXG4gICAgICAgIHJldHVybiBob3RlbHM7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTY3JhcGluZyBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgaWYgKGJyb3dzZXIpIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEhvdGVsRGV0YWlsc1xyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGVzY3JpcHRpb25cclxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gYW1lbml0aWVzXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGltYWdlc1xyXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfSBbcm9vbXNdXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbaG91c2VSdWxlc11cclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtob3VzZVJ1bGVzLmNoZWNrSW5dXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaG91c2VSdWxlcy5jaGVja091dF1cclxuICogQHByb3BlcnR5IHtPYmplY3R9IFt0cnV0aExlbnNdXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IHRydXRoTGVucy5wcm9zXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IHRydXRoTGVucy5jb25zXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFNjcmFwZSBkZXRhaWxlZCBob3RlbCBpbmZvcm1hdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gSG90ZWwgZGV0YWlsIHBhZ2UgVVJMXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEhvdGVsRGV0YWlsc3xudWxsPn1cclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNjcmFwZUhvdGVsRGV0YWlscyh1cmwpIHtcclxuICAgIGxldCBicm93c2VyO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBVc2UgZW52aXJvbm1lbnQtc3BlY2lmaWMgY29uZmlnXHJcbiAgICAgICAgY29uc3QgcHVwcGV0ZWVyQ29uZmlnID0gZ2V0UHVwcGV0ZWVyQ29uZmlnKCk7XHJcbiAgICAgICAgYnJvd3NlciA9IGF3YWl0IHB1cHBldGVlci5sYXVuY2gocHVwcGV0ZWVyQ29uZmlnKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IGJyb3dzZXIubmV3UGFnZSgpO1xyXG4gICAgICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQoeyB3aWR0aDogMTkyMCwgaGVpZ2h0OiAxMDgwIH0pO1xyXG4gICAgICAgIGF3YWl0IHBhZ2Uuc2V0VXNlckFnZW50KCdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTIwLjAuMC4wIFNhZmFyaS81MzcuMzYnKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYERldGFpbHMgc2NyYXBpbmcgZm9yOiAke3VybH1gKTtcclxuICAgICAgICBhd2FpdCBwYWdlLmdvdG8odXJsLCB7IHdhaXRVbnRpbDogJ2RvbWNvbnRlbnRsb2FkZWQnLCB0aW1lb3V0OiAzMDAwMCB9KTtcclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBEZXNjcmlwdGlvblxyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9ycyA9IFtcclxuICAgICAgICAgICAgICAgICdbZGF0YS10ZXN0aWQ9XCJwcm9wZXJ0eS1zZWN0aW9uLWRlc2NyaXB0aW9uLWNvbnRlbnRcIl0nLFxyXG4gICAgICAgICAgICAgICAgJyNwcm9wZXJ0eV9kZXNjcmlwdGlvbl9jb250ZW50JyxcclxuICAgICAgICAgICAgICAgICcuaG90ZWxfZGVzY3JpcHRpb25fd3JhcHBlcl9leHAnLFxyXG4gICAgICAgICAgICAgICAgJy5ocF9kZXNjX21haW5fY29udGVudCdcclxuICAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2VsIG9mIHNlbGVjdG9ycykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWwgJiYgZWwudGV4dENvbnRlbnQgJiYgZWwudGV4dENvbnRlbnQubGVuZ3RoID4gNTApIHJldHVybiBlbC50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFncmFwaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwJyk7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBvZiBBcnJheS5mcm9tKHBhcmFncmFwaHMpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocC50ZXh0Q29udGVudCAmJiBwLnRleHRDb250ZW50Lmxlbmd0aCA+IDEwMCkgcmV0dXJuIHAudGV4dENvbnRlbnQudHJpbSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEV4dHJhY3QgQW1lbml0aWVzXHJcbiAgICAgICAgY29uc3QgYW1lbml0aWVzID0gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcG9wdWxhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRlc3RpZD1cInByb3BlcnR5LW1vc3QtcG9wdWxhci1mYWNpbGl0aWVzLXdyYXBwZXJcIl0gbGksIC5idWktbGlzdF9faXRlbSwgLmhvdGVsLWZhY2lsaXRpZXNfX2xpc3QgbGknKTtcclxuICAgICAgICAgICAgaXRlbXMgPSBBcnJheS5mcm9tKHBvcHVsYXIpLm1hcChlbCA9PiBlbC50ZXh0Q29udGVudD8udHJpbSgpIHx8ICcnKS5maWx0ZXIodCA9PiB0Lmxlbmd0aCA+IDIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZhY2lsaXRpZXNUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhY2lsaXRpZXNDaGVja2xpc3QnKT8udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmFjaWxpdGllc1RleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGZhY2lsaXRpZXNUZXh0LnNwbGl0KCdcXG4nKS5tYXAocyA9PiBzLnRyaW0oKSkuZmlsdGVyKHMgPT4gcy5sZW5ndGggPiAzICYmIHMubGVuZ3RoIDwgMzApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXRlbXMuc2xpY2UoMCwgMTIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFeHRyYWN0IFJvb20gVHlwZXNcclxuICAgICAgICBjb25zdCByb29tcyA9IGF3YWl0IHBhZ2UuZXZhbHVhdGUoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByb29tUm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNocHJ0LXRhYmxlIHRib2R5IHRyLCBbZGF0YS10ZXN0aWQ9XCJyb29tLXRhYmxlXCJdIHRyJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvb21OYW1lcyA9IG5ldyBTZXQoKTtcclxuXHJcbiAgICAgICAgICAgIHJvb21Sb3dzLmZvckVhY2gocm93ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVFbCA9IHJvdy5xdWVyeVNlbGVjdG9yKCcuaHBydC1yb29tdHlwZS1saW5rLCBbZGF0YS10ZXN0aWQ9XCJyb29tLW5hbWVcIl0nKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lRWwgJiYgbmFtZUVsLnRleHRDb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVFbC50ZXh0Q29udGVudC50cmltKCkuc3BsaXQoJ1xcbicpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lLmxlbmd0aCA+IDMpIHJvb21OYW1lcy5hZGQobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20ocm9vbU5hbWVzKS5zbGljZSgwLCA1KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBIb3VzZSBSdWxlc1xyXG4gICAgICAgIGNvbnN0IGhvdXNlUnVsZXMgPSBhd2FpdCBwYWdlLmV2YWx1YXRlKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tJbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGVja2luX3BvbGljeSwgW2RhdGEtdGVzdGlkPVwiY2hlY2tpbi1wb2xpY3lcIl0nKT8udGV4dENvbnRlbnQ/LnJlcGxhY2UoJ0NoZWNrLWluJywgJycpLnRyaW0oKTtcclxuICAgICAgICAgICAgY29uc3QgY2hlY2tPdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2hlY2tvdXRfcG9saWN5LCBbZGF0YS10ZXN0aWQ9XCJjaGVja291dC1wb2xpY3lcIl0nKT8udGV4dENvbnRlbnQ/LnJlcGxhY2UoJ0NoZWNrLW91dCcsICcnKS50cmltKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGNoZWNrSW4sIGNoZWNrT3V0IH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEV4dHJhY3QgSW1hZ2VzXHJcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZUltYWdlcyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgY29uc3QgdmFsaWRJbWFnZXMgPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgaW1ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iaC1waG90by1ncmlkLWl0ZW0gaW1nLCAuZ2FsbGVyeS1zaWRlLXJldmlld3Mtd3JhcHBlciBpbWcsIFtkYXRhLXRlc3RpZD1cImdhbGxlcnktaW1hZ2VcIl0sICNob3RlbF9tYWluX2NvbnRlbnQgaW1nJyk7XHJcblxyXG4gICAgICAgICAgICBBcnJheS5mcm9tKGltZ3MpLmZvckVhY2goKGltZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3JjID0gaW1nLnNyYztcclxuICAgICAgICAgICAgICAgIGlmIChzcmMgJiYgIXNyYy5pbmNsdWRlcygncGl4ZWwnKSAmJiAhdW5pcXVlSW1hZ2VzLmhhcyhzcmMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlnaFJlcyA9IHNyYy5yZXBsYWNlKC9cXC9tYXhcXGQrXFwvLywgJy9tYXgxMjgweDkwMC8nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXVuaXF1ZUltYWdlcy5oYXMoaGlnaFJlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pcXVlSW1hZ2VzLmFkZChoaWdoUmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRJbWFnZXMucHVzaChoaWdoUmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsaWRJbWFnZXMuc2xpY2UoMCwgOCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRydXRoIExlbnMgTG9naWNcclxuICAgICAgICBjb25zdCB0cnV0aExlbnMgPSB7XHJcbiAgICAgICAgICAgIHByb3M6IFtdLFxyXG4gICAgICAgICAgICBjb25zOiBbXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGxvd2VyRGVzYyA9IGRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc3QgbG93ZXJOYW1lID0gKGF3YWl0IHBhZ2UudGl0bGUoKSkudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgLy8gUHJvcyBhbmFseXNpc1xyXG4gICAgICAgIGlmIChhbWVuaXRpZXMuc29tZShhID0+IGEudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygncG9vbCcpKSB8fCBsb3dlckRlc2MuaW5jbHVkZXMoJ3Bvb2wnKSkgdHJ1dGhMZW5zLnByb3MucHVzaCgnQXF1YXRpYyBDZW50ZXIgVmVyaWZpZWQnKTtcclxuICAgICAgICBpZiAoYW1lbml0aWVzLnNvbWUoYSA9PiBhLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3dpZmknKSkgJiYgIWxvd2VyRGVzYy5pbmNsdWRlcygncGFpZCB3aWZpJykpIHRydXRoTGVucy5wcm9zLnB1c2goJ1JlbW90ZSBXb3JrIFJlYWR5Jyk7XHJcbiAgICAgICAgaWYgKGxvd2VyRGVzYy5pbmNsdWRlcygnaGVhcnQgb2YnKSB8fCBsb3dlckRlc2MuaW5jbHVkZXMoJ2NlbnRlcicpIHx8IGxvd2VyRGVzYy5pbmNsdWRlcygnd2Fsa2luZyBkaXN0YW5jZScpKSB0cnV0aExlbnMucHJvcy5wdXNoKCdQcmltZSBMb2NhdGlvbicpO1xyXG4gICAgICAgIGlmIChhbWVuaXRpZXMuc29tZShhID0+IGEuaW5jbHVkZXMoJ0JyZWFrZmFzdCcpKSkgdHJ1dGhMZW5zLnByb3MucHVzaCgnQnJlYWtmYXN0IEluY2x1ZGVkJyk7XHJcblxyXG4gICAgICAgIC8vIENvbnMgYW5hbHlzaXNcclxuICAgICAgICBpZiAobG93ZXJEZXNjLmluY2x1ZGVzKCdsaXZlbHkgYXJlYScpIHx8IGxvd2VyRGVzYy5pbmNsdWRlcygnbmlnaHRsaWZlJykgfHwgbG93ZXJEZXNjLmluY2x1ZGVzKCdiYXInKSkgdHJ1dGhMZW5zLmNvbnMucHVzaCgnUG90ZW50aWFsIE5vaXNlIFJpc2snKTtcclxuICAgICAgICBpZiAoIWFtZW5pdGllcy5zb21lKGEgPT4gYS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdlbGV2YXRvcicpKSAmJiAhYW1lbml0aWVzLnNvbWUoYSA9PiBhLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2xpZnQnKSkgJiYgbG93ZXJEZXNjLmluY2x1ZGVzKCdmbG9vcicpKSB0cnV0aExlbnMuY29ucy5wdXNoKCdTdGFpcnMgT25seSBXYXJuaW5nJyk7XHJcbiAgICAgICAgaWYgKGxvd2VyRGVzYy5pbmNsdWRlcygnY29tcGFjdCcpIHx8IGxvd2VyRGVzYy5pbmNsdWRlcygnY29zeScpIHx8IGxvd2VyRGVzYy5pbmNsdWRlcygnc21hbGwgcm9vbScpKSB0cnV0aExlbnMuY29ucy5wdXNoKCdTbWFsbCBSb29tIFNpemUnKTtcclxuICAgICAgICBpZiAobG93ZXJEZXNjLmluY2x1ZGVzKCdzaGFyZWQgYmF0aHJvb20nKSkgdHJ1dGhMZW5zLmNvbnMucHVzaCgnU2hhcmVkIEJhdGhyb29tJyk7XHJcblxyXG4gICAgICAgIGlmICh0cnV0aExlbnMucHJvcy5sZW5ndGggPT09IDApIHRydXRoTGVucy5wcm9zLnB1c2goJ1N0YW5kYXJkIEFtZW5pdGllcycpO1xyXG4gICAgICAgIGlmICh0cnV0aExlbnMuY29ucy5sZW5ndGggPT09IDApIHRydXRoTGVucy5jb25zLnB1c2goJ05vIFJlZCBGbGFncyBEZXRlY3RlZCcpO1xyXG5cclxuICAgICAgICByZXR1cm4geyBkZXNjcmlwdGlvbiwgYW1lbml0aWVzLCBpbWFnZXMsIHJvb21zLCBob3VzZVJ1bGVzLCB0cnV0aExlbnMgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzY3JhcGluZyBob3RlbCBkZXRhaWxzOlwiLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlmIChicm93c2VyKSBhd2FpdCBicm93c2VyLmNsb3NlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBzZWFyY2hIb3RlbHMsIHNjcmFwZUhvdGVsRGV0YWlscyB9OyJdLCJuYW1lcyI6WyJwdXBwZXRlZXIiLCJyZXF1aXJlIiwiZ2V0UHVwcGV0ZWVyQ29uZmlnIiwiaXNSZW5kZXIiLCJwcm9jZXNzIiwiY29uc29sZSIsImxvZyIsImhlYWRsZXNzIiwiYXJncyIsImV4ZWN1dGFibGVQYXRoIiwic2VhcmNoSG90ZWxzIiwibG9jYXRpb24iLCJjaGVja0luIiwiY2hlY2tPdXQiLCJndWVzdHMiLCJvZmZzZXQiLCJicm93c2VyIiwicHVwcGV0ZWVyQ29uZmlnIiwibGF1bmNoIiwicGFnZSIsIm5ld1BhZ2UiLCJzZXRVc2VyQWdlbnQiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJhZHVsdHMiLCJjaGlsZHJlbiIsInJvb21zIiwiZ290byIsIndhaXRVbnRpbCIsInRpbWVvdXQiLCJ3YWl0Rm9yU2VsZWN0b3IiLCJlIiwiaG90ZWxzIiwiZXZhbHVhdGUiLCJjYXJkcyIsIkFycmF5IiwiZnJvbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIm1hcCIsImNhcmQiLCJ0aXRsZUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJpY2VFbGVtZW50IiwicmF0aW5nRWxlbWVudCIsImltYWdlRWxlbWVudCIsImxpbmtFbGVtZW50IiwiYWRkcmVzc0VsZW1lbnQiLCJyYXRpbmciLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJtYXRjaCIsImltYWdlVXJsIiwiZ2V0QXR0cmlidXRlIiwic3Jjc2V0Iiwic291cmNlcyIsInNwbGl0IiwicyIsImxlbmd0aCIsInJlcGxhY2UiLCJ2aWJlcyIsIm5hbWVMb3dlciIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJwdXNoIiwibmFtZSIsInByaWNlIiwiaW1hZ2UiLCJ1bmRlZmluZWQiLCJyZXZpZXdzIiwibGluayIsImNpdHkiLCJlcnJvciIsImNsb3NlIiwic2NyYXBlSG90ZWxEZXRhaWxzIiwic2V0Vmlld3BvcnQiLCJ3aWR0aCIsImhlaWdodCIsImRlc2NyaXB0aW9uIiwic2VsZWN0b3JzIiwic2VsIiwiZWwiLCJwYXJhZ3JhcGhzIiwicCIsImFtZW5pdGllcyIsIml0ZW1zIiwicG9wdWxhciIsImZpbHRlciIsInQiLCJmYWNpbGl0aWVzVGV4dCIsInNsaWNlIiwicm9vbVJvd3MiLCJyb29tTmFtZXMiLCJTZXQiLCJmb3JFYWNoIiwicm93IiwibmFtZUVsIiwiYWRkIiwiaG91c2VSdWxlcyIsImltYWdlcyIsInVuaXF1ZUltYWdlcyIsInZhbGlkSW1hZ2VzIiwiaW1ncyIsImltZyIsInNyYyIsImhhcyIsImhpZ2hSZXMiLCJ0cnV0aExlbnMiLCJwcm9zIiwiY29ucyIsImxvd2VyRGVzYyIsImxvd2VyTmFtZSIsInRpdGxlIiwic29tZSIsImEiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/hotelScraper.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fhotels%2Fsearch%2Froute&page=%2Fapi%2Fhotels%2Fsearch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fhotels%2Fsearch%2Froute.js&appDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CHomePC%5CDocuments%5Citravelshub%5Ctriprex-files%5CLRT-Version&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();